(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Md={exports:{}},El={};var j_;function L1(){if(j_)return El;j_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return El.Fragment=t,El.jsx=i,El.jsxs=i,El}var B_;function z1(){return B_||(B_=1,Md.exports=L1()),Md.exports}var V=z1(),Vd={exports:{}},vt={};var q_;function j1(){if(q_)return vt;q_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function G(x){return x===null||typeof x!="object"?null:(x=O&&x[O]||x["@@iterator"],typeof x=="function"?x:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Z={};function lt(x,Y,nt){this.props=x,this.context=Y,this.refs=Z,this.updater=nt||J}lt.prototype.isReactComponent={},lt.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},lt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function yt(){}yt.prototype=lt.prototype;function dt(x,Y,nt){this.props=x,this.context=Y,this.refs=Z,this.updater=nt||J}var Ht=dt.prototype=new yt;Ht.constructor=dt,W(Ht,lt.prototype),Ht.isPureReactComponent=!0;var Wt=Array.isArray;function Ot(){}var N={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(x,Y,nt){var rt=nt.ref;return{$$typeof:s,type:x,key:Y,ref:rt!==void 0?rt:null,props:nt}}function M(x,Y){return C(x.type,Y,x.props)}function w(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function k(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(nt){return Y[nt]})}var R=/\/+/g;function zt(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):Y.toString(36)}function ue(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ot,Ot):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function F(x,Y,nt,rt,gt){var St=typeof x;(St==="undefined"||St==="boolean")&&(x=null);var Vt=!1;if(x===null)Vt=!0;else switch(St){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(x.$$typeof){case s:case t:Vt=!0;break;case A:return Vt=x._init,F(Vt(x._payload),Y,nt,rt,gt)}}if(Vt)return gt=gt(x),Vt=rt===""?"."+zt(x,0):rt,Wt(gt)?(nt="",Vt!=null&&(nt=Vt.replace(R,"$&/")+"/"),F(gt,Y,nt,"",function(or){return or})):gt!=null&&(w(gt)&&(gt=M(gt,nt+(gt.key==null||x&&x.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+Vt)),Y.push(gt)),1;Vt=0;var De=rt===""?".":rt+":";if(Wt(x))for(var re=0;re<x.length;re++)rt=x[re],St=De+zt(rt,re),Vt+=F(rt,Y,nt,St,gt);else if(re=G(x),typeof re=="function")for(x=re.call(x),re=0;!(rt=x.next()).done;)rt=rt.value,St=De+zt(rt,re++),Vt+=F(rt,Y,nt,St,gt);else if(St==="object"){if(typeof x.then=="function")return F(ue(x),Y,nt,rt,gt);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function et(x,Y,nt){if(x==null)return x;var rt=[],gt=0;return F(x,rt,"","",function(St){return Y.call(nt,St,gt++)}),rt}function ht(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(nt){(x._status===0||x._status===-1)&&(x._status=1,x._result=nt)},function(nt){(x._status===0||x._status===-1)&&(x._status=2,x._result=nt)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var Ut=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ft={map:et,forEach:function(x,Y,nt){et(x,function(){Y.apply(this,arguments)},nt)},count:function(x){var Y=0;return et(x,function(){Y++}),Y},toArray:function(x){return et(x,function(Y){return Y})||[]},only:function(x){if(!w(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return vt.Activity=S,vt.Children=Ft,vt.Component=lt,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=dt,vt.StrictMode=r,vt.Suspense=g,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,vt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return N.H.useMemoCache(x)}},vt.cache=function(x){return function(){return x.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(x,Y,nt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var rt=W({},x.props),gt=x.key;if(Y!=null)for(St in Y.key!==void 0&&(gt=""+Y.key),Y)!b.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(rt[St]=Y[St]);var St=arguments.length-2;if(St===1)rt.children=nt;else if(1<St){for(var Vt=Array(St),De=0;De<St;De++)Vt[De]=arguments[De+2];rt.children=Vt}return C(x.type,gt,rt)},vt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},vt.createElement=function(x,Y,nt){var rt,gt={},St=null;if(Y!=null)for(rt in Y.key!==void 0&&(St=""+Y.key),Y)b.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=Y[rt]);var Vt=arguments.length-2;if(Vt===1)gt.children=nt;else if(1<Vt){for(var De=Array(Vt),re=0;re<Vt;re++)De[re]=arguments[re+2];gt.children=De}if(x&&x.defaultProps)for(rt in Vt=x.defaultProps,Vt)gt[rt]===void 0&&(gt[rt]=Vt[rt]);return C(x,St,gt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(x){return{$$typeof:p,render:x}},vt.isValidElement=w,vt.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:ht}},vt.memo=function(x,Y){return{$$typeof:_,type:x,compare:Y===void 0?null:Y}},vt.startTransition=function(x){var Y=N.T,nt={};N.T=nt;try{var rt=x(),gt=N.S;gt!==null&&gt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ot,Ut)}catch(St){Ut(St)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),N.T=Y}},vt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},vt.use=function(x){return N.H.use(x)},vt.useActionState=function(x,Y,nt){return N.H.useActionState(x,Y,nt)},vt.useCallback=function(x,Y){return N.H.useCallback(x,Y)},vt.useContext=function(x){return N.H.useContext(x)},vt.useDebugValue=function(){},vt.useDeferredValue=function(x,Y){return N.H.useDeferredValue(x,Y)},vt.useEffect=function(x,Y){return N.H.useEffect(x,Y)},vt.useEffectEvent=function(x){return N.H.useEffectEvent(x)},vt.useId=function(){return N.H.useId()},vt.useImperativeHandle=function(x,Y,nt){return N.H.useImperativeHandle(x,Y,nt)},vt.useInsertionEffect=function(x,Y){return N.H.useInsertionEffect(x,Y)},vt.useLayoutEffect=function(x,Y){return N.H.useLayoutEffect(x,Y)},vt.useMemo=function(x,Y){return N.H.useMemo(x,Y)},vt.useOptimistic=function(x,Y){return N.H.useOptimistic(x,Y)},vt.useReducer=function(x,Y,nt){return N.H.useReducer(x,Y,nt)},vt.useRef=function(x){return N.H.useRef(x)},vt.useState=function(x){return N.H.useState(x)},vt.useSyncExternalStore=function(x,Y,nt){return N.H.useSyncExternalStore(x,Y,nt)},vt.useTransition=function(){return N.H.useTransition()},vt.version="19.2.1",vt}var H_;function bm(){return H_||(H_=1,Vd.exports=j1()),Vd.exports}var qt=bm(),kd={exports:{}},Tl={},Ud={exports:{}},Pd={};var G_;function B1(){return G_||(G_=1,(function(s){function t(F,et){var ht=F.length;F.push(et);t:for(;0<ht;){var Ut=ht-1>>>1,Ft=F[Ut];if(0<l(Ft,et))F[Ut]=et,F[ht]=Ft,ht=Ut;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var et=F[0],ht=F.pop();if(ht!==et){F[0]=ht;t:for(var Ut=0,Ft=F.length,x=Ft>>>1;Ut<x;){var Y=2*(Ut+1)-1,nt=F[Y],rt=Y+1,gt=F[rt];if(0>l(nt,ht))rt<Ft&&0>l(gt,nt)?(F[Ut]=gt,F[rt]=ht,Ut=rt):(F[Ut]=nt,F[Y]=ht,Ut=Y);else if(rt<Ft&&0>l(gt,ht))F[Ut]=gt,F[rt]=ht,Ut=rt;else break t}}return et}function l(F,et){var ht=F.sortIndex-et.sortIndex;return ht!==0?ht:F.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],_=[],A=1,S=null,O=3,G=!1,J=!1,W=!1,Z=!1,lt=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Ht(F){for(var et=i(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=F)r(_),et.sortIndex=et.expirationTime,t(g,et);else break;et=i(_)}}function Wt(F){if(W=!1,Ht(F),!J)if(i(g)!==null)J=!0,Ot||(Ot=!0,k());else{var et=i(_);et!==null&&ue(Wt,et.startTime-F)}}var Ot=!1,N=-1,b=5,C=-1;function M(){return Z?!0:!(s.unstable_now()-C<b)}function w(){if(Z=!1,Ot){var F=s.unstable_now();C=F;var et=!0;try{t:{J=!1,W&&(W=!1,yt(N),N=-1),G=!0;var ht=O;try{e:{for(Ht(F),S=i(g);S!==null&&!(S.expirationTime>F&&M());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,O=S.priorityLevel;var Ft=Ut(S.expirationTime<=F);if(F=s.unstable_now(),typeof Ft=="function"){S.callback=Ft,Ht(F),et=!0;break e}S===i(g)&&r(g),Ht(F)}else r(g);S=i(g)}if(S!==null)et=!0;else{var x=i(_);x!==null&&ue(Wt,x.startTime-F),et=!1}}break t}finally{S=null,O=ht,G=!1}et=void 0}}finally{et?k():Ot=!1}}}var k;if(typeof dt=="function")k=function(){dt(w)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,zt=R.port2;R.port1.onmessage=w,k=function(){zt.postMessage(null)}}else k=function(){lt(w,0)};function ue(F,et){N=lt(function(){F(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(F){switch(O){case 1:case 2:case 3:var et=3;break;default:et=O}var ht=O;O=et;try{return F()}finally{O=ht}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=O;O=F;try{return et()}finally{O=ht}},s.unstable_scheduleCallback=function(F,et,ht){var Ut=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ut+ht:Ut):ht=Ut,F){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ht+Ft,F={id:A++,callback:et,priorityLevel:F,startTime:ht,expirationTime:Ft,sortIndex:-1},ht>Ut?(F.sortIndex=ht,t(_,F),i(g)===null&&F===i(_)&&(W?(yt(N),N=-1):W=!0,ue(Wt,ht-Ut))):(F.sortIndex=Ft,t(g,F),J||G||(J=!0,Ot||(Ot=!0,k()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var et=O;return function(){var ht=O;O=et;try{return F.apply(this,arguments)}finally{O=ht}}}})(Pd)),Pd}var F_;function q1(){return F_||(F_=1,Ud.exports=B1()),Ud.exports}var Ld={exports:{}},Xe={};var Q_;function H1(){if(Q_)return Xe;Q_=1;var s=bm();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(g,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(g,_,null,A)},Xe.flushSync=function(g){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=_,r.p=A,r.d.f()}},Xe.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},Xe.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Xe.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:G}):A==="script"&&r.d.X(g,{crossOrigin:S,integrity:O,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},Xe.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);r.d.L(g,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(g,_){if(typeof g=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},Xe.requestFormReset=function(g){r.d.r(g)},Xe.unstable_batchedUpdates=function(g,_){return g(_)},Xe.useFormState=function(g,_,A){return d.H.useFormState(g,_,A)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.1",Xe}var K_;function G1(){if(K_)return Ld.exports;K_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ld.exports=H1(),Ld.exports}var Y_;function F1(){if(Y_)return Tl;Y_=1;var s=q1(),t=bm(),i=G1();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=w&&e[w]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case lt:return"Profiler";case Z:return"StrictMode";case Wt:return"Suspense";case Ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case dt:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case Ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:zt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return zt(e(n))}catch{}}return null}var ue=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ut=[],Ft=-1;function x(e){return{current:e}}function Y(e){0>Ft||(e.current=Ut[Ft],Ut[Ft]=null,Ft--)}function nt(e,n){Ft++,Ut[Ft]=e.current,e.current=n}var rt=x(null),gt=x(null),St=x(null),Vt=x(null);function De(e,n){switch(nt(St,n),nt(gt,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?u_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=u_(n),e=c_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),nt(rt,e)}function re(){Y(rt),Y(gt),Y(St)}function or(e){e.memoizedState!==null&&nt(Vt,e);var n=rt.current,a=c_(n,e.type);n!==a&&(nt(gt,e),nt(rt,a))}function Zr(e){gt.current===e&&(Y(rt),Y(gt)),Vt.current===e&&(Y(Vt),gl._currentValue=ht)}var Jr,Wr;function ei(e){if(Jr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Jr=n&&n[1]||"",Wr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+e+Wr}var go=!1;function lr(e,n){if(!e||go)return"";go=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var I=y.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var H=`
`+I[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{go=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ei(a):""}function yo(e,n){switch(e.tag){case 26:case 27:case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return e.child!==n&&n!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return ei("Activity");default:return""}}function _o(e){try{var n="",a=null;do n+=yo(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,as=s.unstable_cancelCallback,Vh=s.unstable_shouldYield,nu=s.unstable_requestPaint,tn=s.unstable_now,ur=s.unstable_getCurrentPriorityLevel,vo=s.unstable_ImmediatePriority,Eo=s.unstable_UserBlockingPriority,os=s.unstable_NormalPriority,kh=s.unstable_LowPriority,iu=s.unstable_IdlePriority,su=s.log,ru=s.unstable_setDisableYieldValue,Ln=null,je=null;function bn(e){if(typeof su=="function"&&ru(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Ln,e)}catch{}}var fe=Math.clz32?Math.clz32:ou,au=Math.log,ta=Math.LN2;function ou(e){return e>>>=0,e===0?32:31-(au(e)/ta|0)|0}var ni=256,cr=262144,_e=4194304;function ii(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ii(o):(y&=E,y!==0?h=ii(y):a||(a=E&~e,a!==0&&(h=ii(a))))):(E=o&~f,E!==0?h=ii(E):y!==0?h=ii(y):a||(a=o&~e,a!==0&&(h=ii(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Uh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ri(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function hr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ph(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var H=31-fe(a),K=1<<H;E[H]=0,I[H]=-1;var j=z[H];if(j!==null)for(z[H]=null,H=0;H<j.length;H++){var q=j[H];q!==null&&(q.lane&=-536870913)}a&=~K}o!==0&&fr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function fr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function To(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Ao(e,n){var a=n&-n;return a=(a&42)!==0?1:dr(a),(a&(e.suspendedLanes|n))!==0?0:a}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:M_(e.type))}function jn(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var Bn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Bn,Ue="__reactProps$"+Bn,ai="__reactContainer$"+Bn,ea="__reactEvents$"+Bn,Lh="__reactListeners$"+Bn,cu="__reactHandles$"+Bn,hu="__reactResources$"+Bn,oi="__reactMarker$"+Bn;function na(e){delete e[ve],delete e[Ue],delete e[ea],delete e[Lh],delete e[cu]}function li(e){var n=e[ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ai]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=y_(e);e!==null;){if(a=e[ve])return a;e=y_(e)}return n}e=a,a=e.parentNode}return null}function wn(e){if(e=e[ve]||e[ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ui(e){var n=e[hu];return n||(n=e[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[oi]=!0}var So=new Set,bo={};function ci(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(bo[e]=n,e=0;e<n.length;e++)So.add(n[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Io={};function fu(e){return ye.call(Io,e)?!0:ye.call(Ro,e)?!1:wo.test(e)?Io[e]=!0:(Ro[e]=!0,!1)}function ia(e,n,a){if(fu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function pn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Te(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ls(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=ls(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function mr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=ls(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pr=/[\n"\\]/g;function sn(e){return e.replace(pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(e,n,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Pe(n)):e.value!==""+Pe(n)&&(e.value=""+Pe(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?No(e,y,Pe(n)):a!=null?No(e,y,Pe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Pe(E):e.removeAttribute("name")}function du(e,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}a=a!=null?""+Pe(a):"",n=n!=null?""+Pe(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Qt(e)}function No(e,n,a){n==="number"&&fi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function us(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function mu(e,n,a){if(n!=null&&(n=""+Pe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Pe(a):""}function cs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(ue(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Pe(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Qt(e)}function rn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||pu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function xo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Do(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Do(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return hs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Oo=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fs=null,di=null;function gr(e){var n=wn(e);if(n&&(e=n.stateNode)){var a=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(sa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(r(90));sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&mr(o)}break t;case"textarea":mu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&us(e,!!a.multiple,n,!1)}}}var oa=!1;function ds(e,n,a){if(oa)return e(n,a);oa=!0;try{var o=e(n);return o}finally{if(oa=!1,(fs!==null||di!==null)&&(uc(),fs&&(n=fs,e=di,di=fs=null,gr(n),e)))for(n=0;n<e.length;n++)gr(e[n])}}function Hn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ue]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(In)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{yr=!1}var mi=null,Mo=null,_r=null;function Vo(){if(_r)return _r;var e,n=Mo,a=n.length,o,h="value"in mi?mi.value:mi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return _r=h.slice(e,1<o?1-o:void 0)}function vr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Gn(){return!1}function Be(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Gn,this.isPropagationStopped=Gn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Be(Vi),ms=S({},Vi,{view:0,detail:0}),ko=Be(ms),ps,la,gi,ua=S({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(ps=e.screenX-gi.screenX,la=e.screenY-gi.screenY):la=ps=0,gi=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Uo=Be(ua),Er=S({},ua,{dataTransfer:0}),yu=Be(Er),_u=S({},ms,{relatedTarget:0}),Tr=Be(_u),Po=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Be(Po),ca=S({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Eu=Be(ca),Tu=S({},Vi,{data:0}),yi=Be(Tu),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function gs(){return wu}var en=S({},ms,{key:function(e){if(e.key){var n=Au[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ru=Be(en),Iu=S({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=Be(Iu),u=S({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=Be(u),v=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(v),P=S({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(P),tt=S({},Vi,{newState:0,oldState:0}),Tt=Be(tt),de=[9,13,27,32],jt=In&&"CompositionEvent"in window,ae=null;In&&"documentMode"in document&&(ae=document.documentMode);var Cn=In&&"TextEvent"in window&&!ae,_i=In&&(!jt||ae&&8<ae&&11>=ae),Fn=" ",Qn=!1;function Ar(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function lA(e,n){switch(e){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Qn?null:e;default:return null}}function uA(e,n){if(fa)return e==="compositionend"||!jt&&Ar(e,n)?(e=Vo(),_r=Mo=mi=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _i&&n.locale!=="ko"?null:n.data;default:return null}}var cA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!cA[e.type]:n==="textarea"}function Tp(e,n,a,o){fs?di?di.push(o):di=[o]:fs=o,n=gc(n,"onChange"),0<n.length&&(a=new pi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Lo=null,zo=null;function hA(e){i_(e,0)}function Cu(e){var n=mn(e);if(mr(n))return e}function Ap(e,n){if(e==="change")return n}var Sp=!1;if(In){var zh;if(In){var jh="oninput"in document;if(!jh){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),jh=typeof bp.oninput=="function"}zh=jh}else zh=!1;Sp=zh&&(!document.documentMode||9<document.documentMode)}function wp(){Lo&&(Lo.detachEvent("onpropertychange",Rp),zo=Lo=null)}function Rp(e){if(e.propertyName==="value"&&Cu(zo)){var n=[];Tp(n,zo,e,Rn(e)),ds(hA,n)}}function fA(e,n,a){e==="focusin"?(wp(),Lo=n,zo=a,Lo.attachEvent("onpropertychange",Rp)):e==="focusout"&&wp()}function dA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(zo)}function mA(e,n){if(e==="click")return Cu(n)}function pA(e,n){if(e==="input"||e==="change")return Cu(n)}function gA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:gA;function jo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Ip(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cp(e,n){var a=Ip(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ip(a)}}function Np(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Np(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Dp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=fi(e.document)}return n}function Bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var yA=In&&"documentMode"in document&&11>=document.documentMode,da=null,qh=null,Bo=null,Hh=!1;function xp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||da==null||da!==fi(o)||(o=da,"selectionStart"in o&&Bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&jo(Bo,o)||(Bo=o,o=gc(qh,"onSelect"),0<o.length&&(n=new pi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=da)))}function Sr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ma={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Gh={},Op={};In&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function br(e){if(Gh[e])return Gh[e];if(!ma[e])return e;var n=ma[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Op)return Gh[e]=n[a];return e}var Mp=br("animationend"),Vp=br("animationiteration"),kp=br("animationstart"),_A=br("transitionrun"),vA=br("transitionstart"),EA=br("transitioncancel"),Up=br("transitionend"),Pp=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function Kn(e,n){Pp.set(e,n),ci(n,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],pa=0,Qh=0;function Du(){for(var e=pa,n=Qh=pa=0;n<e;){var a=Nn[n];Nn[n++]=null;var o=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Lp(a,h,f)}}function xu(e,n,a,o){Nn[pa++]=e,Nn[pa++]=n,Nn[pa++]=a,Nn[pa++]=o,Qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Kh(e,n,a,o){return xu(e,n,a,o),Ou(e)}function wr(e,n){return xu(e,null,null,n),Ou(e)}function Lp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Ou(e){if(50<ul)throw ul=0,id=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function TA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,a,o){return new TA(e,n,a,o)}function Yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,n){var a=e.alternate;return a===null?(a=yn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function zp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Mu(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")Yh(e)&&(y=1);else if(typeof e=="string")y=R1(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=yn(31,a,n,h),e.elementType=C,e.lanes=f,e;case W:return Rr(a.children,h,f,n);case Z:y=8,h|=24;break;case lt:return e=yn(12,a,n,h|2),e.elementType=lt,e.lanes=f,e;case Wt:return e=yn(13,a,n,h),e.elementType=Wt,e.lanes=f,e;case Ot:return e=yn(19,a,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:y=10;break t;case yt:y=9;break t;case Ht:y=11;break t;case N:y=14;break t;case b:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=yn(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Rr(e,n,a,o){return e=yn(7,e,o,n),e.lanes=a,e}function Xh(e,n,a){return e=yn(6,e,null,n),e.lanes=a,e}function jp(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function $h(e,n,a){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Bp=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var a=Bp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:_o(n)},Bp.set(e,n),n)}return{value:e,source:n,stack:_o(n)}}var ya=[],_a=0,Vu=null,qo=0,xn=[],On=0,ys=null,vi=1,Ei="";function Pi(e,n){ya[_a++]=qo,ya[_a++]=Vu,Vu=e,qo=n}function qp(e,n,a){xn[On++]=vi,xn[On++]=Ei,xn[On++]=ys,ys=e;var o=vi;e=Ei;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,vi=1<<32-fe(n)+h|a<<h|o,Ei=f+e}else vi=1<<f|a<<h|o,Ei=e}function Zh(e){e.return!==null&&(Pi(e,1),qp(e,1,0))}function Jh(e){for(;e===Vu;)Vu=ya[--_a],ya[_a]=null,qo=ya[--_a],ya[_a]=null;for(;e===ys;)ys=xn[--On],xn[On]=null,Ei=xn[--On],xn[On]=null,vi=xn[--On],xn[On]=null}function Hp(e,n){xn[On++]=vi,xn[On++]=Ei,xn[On++]=ys,vi=n.id,Ei=n.overflow,ys=e}var qe=null,ne=null,Mt=!1,_s=null,Mn=!1,Wh=Error(r(519));function vs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(Dn(n,e)),Wh}function Gp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ve]=e,n[Ue]=o,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<hl.length;a++)Rt(hl[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),du(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),cs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||o_(n.textContent,a)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||vs(e,!0)}function Fp(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qe=qe.return}}function va(e){if(e!==qe)return!1;if(!Mt)return Fp(e),Mt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||_d(e.type,e.memoizedProps)),a=!a),a&&ne&&vs(e),Fp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=g_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=g_(e)}else n===27?(n=ne,Ms(e.type)?(e=Sd,Sd=null,ne=e):ne=n):ne=qe?kn(e.stateNode.nextSibling):null;return!0}function Ir(){ne=qe=null,Mt=!1}function tf(){var e=_s;return e!==null&&(un===null?un=e:un.push.apply(un,e),_s=null),e}function Ho(e){_s===null?_s=[e]:_s.push(e)}var ef=x(null),Cr=null,Li=null;function Es(e,n,a){nt(ef,n._currentValue),n._currentValue=a}function zi(e){e._currentValue=ef.current,Y(ef)}function nf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function sf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),nf(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),nf(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ea(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;gn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&sf(n,e,a,o),n.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nr(e){Cr=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Qp(Cr,e)}function Uu(e,n){return Cr===null&&Nr(e),Qp(e,n)}function Qp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(r(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return a}var AA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},SA=s.unstable_scheduleCallback,bA=s.unstable_NormalPriority,Ae={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new AA,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&SA(bA,function(){e.controller.abort()})}var Fo=null,af=0,Ta=0,Aa=null;function wA(e,n){if(Fo===null){var a=Fo=[];af=0,Ta=ud(),Aa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return af++,n.then(Kp,Kp),n}function Kp(){if(--af===0&&Fo!==null){Aa!==null&&(Aa.status="fulfilled");var e=Fo;Fo=null,Ta=0,Aa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function RA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Yp=F.S;F.S=function(e,n){xy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&wA(e,n),Yp!==null&&Yp(e,n)};var Dr=x(null);function of(){var e=Dr.current;return e!==null?e:te.pooledCache}function Pu(e,n){n===null?nt(Dr,Dr.current):nt(Dr,n.pool)}function Xp(){var e=of();return e===null?null:{parent:Ae._currentValue,pool:e}}var Sa=Error(r(460)),lf=Error(r(474)),Lu=Error(r(542)),zu={then:function(){}};function $p(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e}throw Or=n,Sa}}function xr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Or=a,Sa):a}}var Or=null;function Jp(){if(Or===null)throw Error(r(459));var e=Or;return Or=null,e}function Wp(e){if(e===Sa||e===Lu)throw Error(r(483))}var ba=null,Qo=0;function ju(e){var n=Qo;return Qo+=1,ba===null&&(ba=[]),Zp(ba,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Bu(e,n){throw n.$$typeof===O?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function tg(e){function n(U,D){if(e){var L=U.deletions;L===null?(U.deletions=[D],U.flags|=16):L.push(D)}}function a(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Ui(U,D),U.index=0,U.sibling=null,U}function f(U,D,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<D?(U.flags|=67108866,D):L):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function y(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,L,Q){return D===null||D.tag!==6?(D=Xh(L,U.mode,Q),D.return=U,D):(D=h(D,L),D.return=U,D)}function I(U,D,L,Q){var ut=L.type;return ut===W?H(U,D,L.props.children,Q,L.key):D!==null&&(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&xr(ut)===D.type)?(D=h(D,L.props),Ko(D,L),D.return=U,D):(D=Mu(L.type,L.key,L.props,null,U.mode,Q),Ko(D,L),D.return=U,D)}function z(U,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=$h(L,U.mode,Q),D.return=U,D):(D=h(D,L.children||[]),D.return=U,D)}function H(U,D,L,Q,ut){return D===null||D.tag!==7?(D=Rr(L,U.mode,Q,ut),D.return=U,D):(D=h(D,L),D.return=U,D)}function K(U,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Xh(""+D,U.mode,L),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return L=Mu(D.type,D.key,D.props,null,U.mode,L),Ko(L,D),L.return=U,L;case J:return D=$h(D,U.mode,L),D.return=U,D;case b:return D=xr(D),K(U,D,L)}if(ue(D)||k(D))return D=Rr(D,U.mode,L,null),D.return=U,D;if(typeof D.then=="function")return K(U,ju(D),L);if(D.$$typeof===dt)return K(U,Uu(U,D),L);Bu(U,D)}return null}function j(U,D,L,Q){var ut=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ut!==null?null:E(U,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===ut?I(U,D,L,Q):null;case J:return L.key===ut?z(U,D,L,Q):null;case b:return L=xr(L),j(U,D,L,Q)}if(ue(L)||k(L))return ut!==null?null:H(U,D,L,Q,null);if(typeof L.then=="function")return j(U,D,ju(L),Q);if(L.$$typeof===dt)return j(U,D,Uu(U,L),Q);Bu(U,L)}return null}function q(U,D,L,Q,ut){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(L)||null,E(D,U,""+Q,ut);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return U=U.get(Q.key===null?L:Q.key)||null,I(D,U,Q,ut);case J:return U=U.get(Q.key===null?L:Q.key)||null,z(D,U,Q,ut);case b:return Q=xr(Q),q(U,D,L,Q,ut)}if(ue(Q)||k(Q))return U=U.get(L)||null,H(D,U,Q,ut,null);if(typeof Q.then=="function")return q(U,D,L,ju(Q),ut);if(Q.$$typeof===dt)return q(U,D,L,Uu(D,Q),ut);Bu(D,Q)}return null}function at(U,D,L,Q){for(var ut=null,Pt=null,ot=D,bt=D=0,Ct=null;ot!==null&&bt<L.length;bt++){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var Lt=j(U,ot,L[bt],Q);if(Lt===null){ot===null&&(ot=Ct);break}e&&ot&&Lt.alternate===null&&n(U,ot),D=f(Lt,D,bt),Pt===null?ut=Lt:Pt.sibling=Lt,Pt=Lt,ot=Ct}if(bt===L.length)return a(U,ot),Mt&&Pi(U,bt),ut;if(ot===null){for(;bt<L.length;bt++)ot=K(U,L[bt],Q),ot!==null&&(D=f(ot,D,bt),Pt===null?ut=ot:Pt.sibling=ot,Pt=ot);return Mt&&Pi(U,bt),ut}for(ot=o(ot);bt<L.length;bt++)Ct=q(ot,U,bt,L[bt],Q),Ct!==null&&(e&&Ct.alternate!==null&&ot.delete(Ct.key===null?bt:Ct.key),D=f(Ct,D,bt),Pt===null?ut=Ct:Pt.sibling=Ct,Pt=Ct);return e&&ot.forEach(function(Ls){return n(U,Ls)}),Mt&&Pi(U,bt),ut}function ft(U,D,L,Q){if(L==null)throw Error(r(151));for(var ut=null,Pt=null,ot=D,bt=D=0,Ct=null,Lt=L.next();ot!==null&&!Lt.done;bt++,Lt=L.next()){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var Ls=j(U,ot,Lt.value,Q);if(Ls===null){ot===null&&(ot=Ct);break}e&&ot&&Ls.alternate===null&&n(U,ot),D=f(Ls,D,bt),Pt===null?ut=Ls:Pt.sibling=Ls,Pt=Ls,ot=Ct}if(Lt.done)return a(U,ot),Mt&&Pi(U,bt),ut;if(ot===null){for(;!Lt.done;bt++,Lt=L.next())Lt=K(U,Lt.value,Q),Lt!==null&&(D=f(Lt,D,bt),Pt===null?ut=Lt:Pt.sibling=Lt,Pt=Lt);return Mt&&Pi(U,bt),ut}for(ot=o(ot);!Lt.done;bt++,Lt=L.next())Lt=q(ot,U,bt,Lt.value,Q),Lt!==null&&(e&&Lt.alternate!==null&&ot.delete(Lt.key===null?bt:Lt.key),D=f(Lt,D,bt),Pt===null?ut=Lt:Pt.sibling=Lt,Pt=Lt);return e&&ot.forEach(function(P1){return n(U,P1)}),Mt&&Pi(U,bt),ut}function Jt(U,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var ut=L.key;D!==null;){if(D.key===ut){if(ut=L.type,ut===W){if(D.tag===7){a(U,D.sibling),Q=h(D,L.props.children),Q.return=U,U=Q;break t}}else if(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&xr(ut)===D.type){a(U,D.sibling),Q=h(D,L.props),Ko(Q,L),Q.return=U,U=Q;break t}a(U,D);break}else n(U,D);D=D.sibling}L.type===W?(Q=Rr(L.props.children,U.mode,Q,L.key),Q.return=U,U=Q):(Q=Mu(L.type,L.key,L.props,null,U.mode,Q),Ko(Q,L),Q.return=U,U=Q)}return y(U);case J:t:{for(ut=L.key;D!==null;){if(D.key===ut)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(U,D.sibling),Q=h(D,L.children||[]),Q.return=U,U=Q;break t}else{a(U,D);break}else n(U,D);D=D.sibling}Q=$h(L,U.mode,Q),Q.return=U,U=Q}return y(U);case b:return L=xr(L),Jt(U,D,L,Q)}if(ue(L))return at(U,D,L,Q);if(k(L)){if(ut=k(L),typeof ut!="function")throw Error(r(150));return L=ut.call(L),ft(U,D,L,Q)}if(typeof L.then=="function")return Jt(U,D,ju(L),Q);if(L.$$typeof===dt)return Jt(U,D,Uu(U,L),Q);Bu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(U,D.sibling),Q=h(D,L),Q.return=U,U=Q):(a(U,D),Q=Xh(L,U.mode,Q),Q.return=U,U=Q),y(U)):a(U,D)}return function(U,D,L,Q){try{Qo=0;var ut=Jt(U,D,L,Q);return ba=null,ut}catch(ot){if(ot===Sa||ot===Lu)throw ot;var Pt=yn(29,ot,null,U.mode);return Pt.lanes=Q,Pt.return=U,Pt}finally{}}}var Mr=tg(!0),eg=tg(!1),Ts=!1;function uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function As(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ou(e),Lp(e,null,a),n}return xu(e,o,n,a),Ou(e)}function Yo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,To(e,a)}}function hf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var ff=!1;function Xo(){if(ff){var e=Aa;if(e!==null)throw e}}function $o(e,n,a,o){ff=!1;var h=e.updateQueue;Ts=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,y===null?f=z:y.next=z,y=I;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=z:E.next=z,H.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;y=0,H=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(It&j)===j:(o&j)===j){j!==0&&j===Ta&&(ff=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,ft=E;j=n;var Jt=a;switch(ft.tag){case 1:if(at=ft.payload,typeof at=="function"){K=at.call(Jt,K,j);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ft.payload,j=typeof at=="function"?at.call(Jt,K,j):at,j==null)break t;K=S({},K,j);break t;case 2:Ts=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(z=H=q,I=K):H=H.next=q,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(I=K),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Cs|=y,e.lanes=y,e.memoizedState=K}}function ng(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function ig(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ng(a[e],n)}var wa=x(null),qu=x(0);function sg(e,n){e=Yi,nt(qu,e),nt(wa,n),Yi=e|n.baseLanes}function df(){nt(qu,Yi),nt(wa,wa.current)}function mf(){Yi=qu.current,Y(wa),Y(qu)}var _n=x(null),Vn=null;function bs(e){var n=e.alternate;nt(me,me.current&1),nt(_n,e),Vn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(Vn=e)}function pf(e){nt(me,me.current),nt(_n,e),Vn===null&&(Vn=e)}function rg(e){e.tag===22?(nt(me,me.current),nt(_n,e),Vn===null&&(Vn=e)):ws()}function ws(){nt(me,me.current),nt(_n,_n.current)}function vn(e){Y(_n),Vn===e&&(Vn=null),Y(me)}var me=x(0);function Hu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Td(a)||Ad(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,At=null,$t=null,Se=null,Gu=!1,Ra=!1,Vr=!1,Fu=0,Zo=0,Ia=null,IA=0;function ce(){throw Error(r(321))}function gf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!gn(e[a],n[a]))return!1;return!0}function yf(e,n,a,o,h,f){return ji=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?qg:Of,Vr=!1,f=a(o,h),Vr=!1,Ra&&(f=og(n,a,o,h)),ag(e),f}function ag(e){F.H=tl;var n=$t!==null&&$t.next!==null;if(ji=0,Se=$t=At=null,Gu=!1,Zo=0,Ia=null,n)throw Error(r(300));e===null||be||(e=e.dependencies,e!==null&&ku(e)&&(be=!0))}function og(e,n,a,o){At=e;var h=0;do{if(Ra&&(Ia=null),Zo=0,Ra=!1,25<=h)throw Error(r(301));if(h+=1,Se=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Hg,f=n(a,o)}while(Ra);return f}function CA(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(At.flags|=1024),n}function _f(){var e=Fu!==0;return Fu=0,e}function vf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Ef(e){if(Gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Gu=!1}ji=0,Se=$t=At=null,Ra=!1,Zo=Fu=0,Ia=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function pe(){if($t===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,$t=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=Zo;return Zo+=1,Ia===null&&(Ia=[]),e=Zp(Ia,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?qg:Of),e}function Ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===dt)return He(e)}throw Error(r(438,String(e)))}function Tf(e){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Qu(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function Bi(e,n){return typeof n=="function"?n(e):n}function Yu(e){var n=pe();return Af(n,$t,e)}function Af(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,I=null,z=n,H=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(It&K)===K:(ji&K)===K){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Ta&&(H=!0);else if((ji&j)===j){z=z.next,j===Ta&&(H=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=K,y=f):I=I.next=K,At.lanes|=j,Cs|=j;K=z.action,Vr&&a(f,K),f=z.hasEagerState?z.eagerState:a(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,y=f):I=I.next=j,At.lanes|=K,Cs|=K;z=z.next}while(z!==null&&z!==n);if(I===null?y=f:I.next=E,!gn(f,e.memoizedState)&&(be=!0,H&&(a=Aa,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Sf(e){var n=pe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);gn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function lg(e,n,a){var o=At,h=pe(),f=Mt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!gn(($t||h).memoizedState,a);if(y&&(h.memoizedState=a,be=!0),h=h.queue,Rf(hg.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Ca(9,{destroy:void 0},cg.bind(null,o,h,a,n),null),te===null)throw Error(r(349));f||(ji&127)!==0||ug(o,n,a)}return a}function ug(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=Qu(),At.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function cg(e,n,a,o){n.value=a,n.getSnapshot=o,fg(n)&&dg(e)}function hg(e,n,a){return a(function(){fg(n)&&dg(e)})}function fg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!gn(e,a)}catch{return!0}}function dg(e){var n=wr(e,2);n!==null&&cn(n,e,2)}function bf(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),Vr){bn(!0);try{a()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n}function mg(e,n,a,o){return e.baseState=a,Af(e,$t,typeof o=="function"?o:Bi)}function NA(e,n,a,o,h){if(Zu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,pg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function pg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=a(h,o),I=F.S;I!==null&&I(y,E),gg(e,n,E)}catch(z){wf(e,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=a(h,o),gg(e,n,f)}catch(z){wf(e,n,z)}}function gg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){yg(e,n,o)},function(o){return wf(e,n,o)}):yg(e,n,a)}function yg(e,n,a){n.status="fulfilled",n.value=a,_g(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,pg(e,a)))}function wf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,_g(n),n=n.next;while(n!==o)}e.action=null}function _g(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vg(e,n){return n}function Eg(e,n){if(Mt){var a=te.formState;if(a!==null){t:{var o=At;if(Mt){if(ne){e:{for(var h=ne,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=kn(h.nextSibling),o=h.data==="F!";break t}}vs(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:n},a.queue=o,a=zg.bind(null,At,o),o.dispatch=a,o=bf(!1),f=xf.bind(null,At,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=NA.bind(null,At,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Tg(e){var n=pe();return Ag(n,$t,e)}function Ag(e,n,a){if(n=Af(e,n,vg)[0],e=Yu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(y){throw y===Sa?Lu:y}else o=n;n=pe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(At.flags|=2048,Ca(9,{destroy:void 0},DA.bind(null,h,a),null)),[o,f,e]}function DA(e,n){e.action=n}function Sg(e){var n=pe(),a=$t;if(a!==null)return Ag(n,a,e);pe(),n=n.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ca(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Qu(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function bg(){return pe().memoizedState}function Xu(e,n,a,o){var h=nn();At.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},a,o===void 0?null:o)}function $u(e,n,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&gf(o,$t.memoizedState.deps)?h.memoizedState=Ca(n,f,a,o):(At.flags|=e,h.memoizedState=Ca(1|n,f,a,o))}function wg(e,n){Xu(8390656,8,e,n)}function Rf(e,n){$u(2048,8,e,n)}function xA(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Qu(),At.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Rg(e){var n=pe().memoizedState;return xA({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ig(e,n){return $u(4,2,e,n)}function Cg(e,n){return $u(4,4,e,n)}function Ng(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Dg(e,n,a){a=a!=null?a.concat([e]):null,$u(4,4,Ng.bind(null,n,e),a)}function If(){}function xg(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&gf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Og(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&gf(n,o[1]))return o[0];if(o=e(),Vr){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o}function Cf(e,n,a){return a===void 0||(ji&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=My(),At.lanes|=e,Cs|=e,a)}function Mg(e,n,a,o){return gn(a,n)?a:wa.current!==null?(e=Cf(e,a,o),gn(e,n)||(be=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(It&261930)===0?(be=!0,e.memoizedState=a):(e=My(),At.lanes|=e,Cs|=e,n)}function Vg(e,n,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,xf(e,!1,n,a);try{var I=h(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var H=RA(I,o);Wo(e,n,H,An(e))}else Wo(e,n,o,An(e))}catch(K){Wo(e,n,{then:function(){},status:"rejected",reason:K},An())}finally{et.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function OA(){}function Nf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=kg(e).queue;Vg(e,h,n,ht,a===null?OA:function(){return Ug(e),a(o)})}function kg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ug(e){var n=kg(e);n.next===null&&(n=e.alternate.memoizedState),Wo(e,n.next.queue,{},An())}function Df(){return He(gl)}function Pg(){return pe().memoizedState}function Lg(){return pe().memoizedState}function MA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=An();e=As(a);var o=Ss(n,e,a);o!==null&&(cn(o,n,a),Yo(o,n,a)),n={cache:rf()},e.payload=n;return}n=n.return}}function VA(e,n,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(e)?jg(n,a):(a=Kh(e,n,a,o),a!==null&&(cn(a,e,o),Bg(a,n,o)))}function zg(e,n,a){var o=An();Wo(e,n,a,o)}function Wo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(e))jg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,y))return xu(e,n,h,0),te===null&&Du(),!1}catch{}finally{}if(a=Kh(e,n,h,o),a!==null)return cn(a,e,o),Bg(a,n,o),!0}return!1}function xf(e,n,a,o){if(o={lane:2,revertLane:ud(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zu(e)){if(n)throw Error(r(479))}else n=Kh(e,a,o,2),n!==null&&cn(n,e,2)}function Zu(e){var n=e.alternate;return e===At||n!==null&&n===At}function jg(e,n){Ra=Gu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Bg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,To(e,a)}}var tl={readContext:He,use:Ku,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};tl.useEffectEvent=ce;var qg={readContext:He,use:Ku,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:wg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Xu(4194308,4,Ng.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Xu(4194308,4,e,n)},useInsertionEffect:function(e,n){Xu(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(Vr){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var h=a(n);if(Vr){bn(!0);try{a(n)}finally{bn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=VA.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=bf(e);var n=e.queue,a=zg.bind(null,At,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:If,useDeferredValue:function(e,n){var a=nn();return Cf(a,e,n)},useTransition:function(){var e=bf(!1);return e=Vg.bind(null,At,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=At,h=nn();if(Mt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),te===null)throw Error(r(349));(It&127)!==0||ug(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,wg(hg.bind(null,o,f,e),[e]),o.flags|=2048,Ca(9,{destroy:void 0},cg.bind(null,o,f,a,n),null),a},useId:function(){var e=nn(),n=te.identifierPrefix;if(Mt){var a=Ei,o=vi;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Fu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=IA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Df,useFormState:Eg,useActionState:Eg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=xf.bind(null,At,!0,a),a.dispatch=n,[e,n]},useMemoCache:Tf,useCacheRefresh:function(){return nn().memoizedState=MA.bind(null,At)},useEffectEvent:function(e){var n=nn(),a={impl:e};return n.memoizedState=a,function(){if((Bt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:He,use:Ku,useCallback:xg,useContext:He,useEffect:Rf,useImperativeHandle:Dg,useInsertionEffect:Ig,useLayoutEffect:Cg,useMemo:Og,useReducer:Yu,useRef:bg,useState:function(){return Yu(Bi)},useDebugValue:If,useDeferredValue:function(e,n){var a=pe();return Mg(a,$t.memoizedState,e,n)},useTransition:function(){var e=Yu(Bi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:lg,useId:Pg,useHostTransitionStatus:Df,useFormState:Tg,useActionState:Tg,useOptimistic:function(e,n){var a=pe();return mg(a,$t,e,n)},useMemoCache:Tf,useCacheRefresh:Lg};Of.useEffectEvent=Rg;var Hg={readContext:He,use:Ku,useCallback:xg,useContext:He,useEffect:Rf,useImperativeHandle:Dg,useInsertionEffect:Ig,useLayoutEffect:Cg,useMemo:Og,useReducer:Sf,useRef:bg,useState:function(){return Sf(Bi)},useDebugValue:If,useDeferredValue:function(e,n){var a=pe();return $t===null?Cf(a,e,n):Mg(a,$t.memoizedState,e,n)},useTransition:function(){var e=Sf(Bi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:lg,useId:Pg,useHostTransitionStatus:Df,useFormState:Sg,useActionState:Sg,useOptimistic:function(e,n){var a=pe();return $t!==null?mg(a,$t,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Lg};Hg.useEffectEvent=Rg;function Mf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=An(),h=As(o);h.payload=n,a!=null&&(h.callback=a),n=Ss(e,h,o),n!==null&&(cn(n,e,o),Yo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=An(),h=As(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ss(e,h,o),n!==null&&(cn(n,e,o),Yo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=An(),o=As(a);o.tag=2,n!=null&&(o.callback=n),n=Ss(e,o,a),n!==null&&(cn(n,e,a),Yo(n,e,a))}};function Gg(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!jo(a,o)||!jo(h,f):!0}function Fg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Vf.enqueueReplaceState(n,n.state,null)}function kr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Qg(e){Nu(e)}function Kg(e){console.error(e)}function Yg(e){Nu(e)}function Ju(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Xg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(e,n,a){return a=As(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(e,n)},a}function $g(e){return e=As(e),e.tag=3,e}function Zg(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Xg(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Xg(n,a,o),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function kA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ea(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?cc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===zu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ad(e,o,h)),!1;case 22:return a.flags|=65536,o===zu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ad(e,o,h)),!1}throw Error(r(435,a.tag))}return ad(e,o,h),cc(),!1}if(Mt)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Wh&&(e=Error(r(422),{cause:o}),Ho(Dn(e,a)))):(o!==Wh&&(n=Error(r(423),{cause:o}),Ho(Dn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,a),h=kf(e.stateNode,o,h),hf(e,h),he!==4&&(he=2)),!1;var f=Error(r(520),{cause:o});if(f=Dn(f,a),ll===null?ll=[f]:ll.push(f),he!==4&&(he=2),n===null)return!0;o=Dn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=kf(a.stateNode,o,e),hf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$g(h),Zg(h,e,a,o),hf(a,h),!1}a=a.return}while(a!==null);return!1}var Uf=Error(r(461)),be=!1;function Ge(e,n,a,o){n.child=e===null?eg(n,null,a,o):Mr(n,e.child,a,o)}function Jg(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Nr(n),o=yf(e,n,a,y,f,h),E=_f(),e!==null&&!be?(vf(e,n,h),qi(e,n,h)):(Mt&&E&&Zh(n),n.flags|=1,Ge(e,n,o,h),n.child)}function Wg(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ty(e,n,f,o,h)):(e=Mu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Gf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(y,o)&&e.ref===n.ref)return qi(e,n,h)}return n.flags|=1,e=Ui(f,o),e.ref=n.ref,e.return=n,n.child=e}function ty(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(jo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Gf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,qi(e,n,h)}return Pf(e,n,a,o,h)}function ey(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ny(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pu(n,f!==null?f.cachePool:null),f!==null?sg(n,f):df(),rg(n);else return o=n.lanes=536870912,ny(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Pu(n,f.cachePool),sg(n,f),ws(),n.memoizedState=null):(e!==null&&Pu(n,null),df(),ws());return Ge(e,n,h,a),n.child}function el(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ny(e,n,a,o,h){var f=of();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Pu(n,null),df(),rg(n),e!==null&&Ea(e,n,o,!0),n.childLanes=h,null}function Wu(e,n){return n=ec({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function iy(e,n,a){return Mr(n,e.child,null,a),e=Wu(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function UA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=Wu(n,o),n.lanes=536870912,el(null,e);if(pf(n),(e=ne)?(e=p_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ys!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=jp(e),a.return=n,n.child=a,qe=n,ne=null)):e=null,e===null)throw vs(n);return n.lanes=536870912,null}return Wu(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(pf(n),h)if(n.flags&256)n.flags&=-257,n=iy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||Ea(e,n,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=te,o!==null&&(y=Ao(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,wr(e,y),cn(o,e,y),Uf;cc(),n=iy(e,n,a)}else e=f.treeContext,ne=kn(y.nextSibling),qe=n,Mt=!0,_s=null,Mn=!1,e!==null&&Hp(n,e),n=Wu(n,o),n.flags|=4096;return n}return e=Ui(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function tc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Pf(e,n,a,o,h){return Nr(n),a=yf(e,n,a,o,void 0,h),o=_f(),e!==null&&!be?(vf(e,n,h),qi(e,n,h)):(Mt&&o&&Zh(n),n.flags|=1,Ge(e,n,a,h),n.child)}function sy(e,n,a,o,h,f){return Nr(n),n.updateQueue=null,a=og(n,o,a,h),ag(e),o=_f(),e!==null&&!be?(vf(e,n,f),qi(e,n,f)):(Mt&&o&&Zh(n),n.flags|=1,Ge(e,n,a,f),n.child)}function ry(e,n,a,o,h){if(Nr(n),n.stateNode===null){var f=ga,y=a.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},uf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?He(y):ga,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Mf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Vf.enqueueReplaceState(f,f.state,null),$o(n,o,f,h),Xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=kr(a,E);f.props=I;var z=f.context,H=a.contextType;y=ga,typeof H=="object"&&H!==null&&(y=He(H));var K=a.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Fg(n,f,o,y),Ts=!1;var j=n.memoizedState;f.state=j,$o(n,o,f,h),Xo(),z=n.memoizedState,E||j!==z||Ts?(typeof K=="function"&&(Mf(n,a,K,o),z=n.memoizedState),(I=Ts||Gg(n,a,I,o,j,z,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,cf(e,n),y=n.memoizedProps,H=kr(a,y),f.props=H,K=n.pendingProps,j=f.context,z=a.contextType,I=ga,typeof z=="object"&&z!==null&&(I=He(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||j!==I)&&Fg(n,f,o,I),Ts=!1,j=n.memoizedState,f.state=j,$o(n,o,f,h),Xo();var q=n.memoizedState;y!==K||j!==q||Ts||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof E=="function"&&(Mf(n,a,E,o),q=n.memoizedState),(H=Ts||Gg(n,a,H,o,j,q,I)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=H):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,tc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Mr(n,e.child,null,h),n.child=Mr(n,null,a,h)):Ge(e,n,a,h),n.memoizedState=f.state,e=n.child):e=qi(e,n,h),e}function ay(e,n,a,o){return Ir(),n.flags|=256,Ge(e,n,a,o),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(e){return{baseLanes:e,cachePool:Xp()}}function jf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Tn),e}function oy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?bs(n):ws(),(e=ne)?(e=p_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ys!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=jp(e),a.return=n,n.child=a,qe=n,ne=null)):e=null,e===null)throw vs(n);return Ad(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ws(),h=n.mode,E=ec({mode:"hidden",children:E},h),o=Rr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=zf(a),o.childLanes=jf(e,y,a),n.memoizedState=Lf,el(null,o)):(bs(n),Bf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(bs(n),n.flags&=-257,n=qf(e,n,a)):n.memoizedState!==null?(ws(),n.child=e.child,n.flags|=128,n=null):(ws(),E=o.fallback,h=n.mode,o=ec({mode:"visible",children:o.children},h),E=Rr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Mr(n,e.child,null,a),o=n.child,o.memoizedState=zf(a),o.childLanes=jf(e,y,a),n.memoizedState=Lf,n=el(null,o));else if(bs(n),Ad(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(r(419)),o.stack="",o.digest=y,Ho({value:o,source:null,stack:null}),n=qf(e,n,a)}else if(be||Ea(e,n,a,!1),y=(a&e.childLanes)!==0,be||y){if(y=te,y!==null&&(o=Ao(y,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,wr(e,o),cn(y,e,o),Uf;Td(E)||cc(),n=qf(e,n,a)}else Td(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ne=kn(E.nextSibling),qe=n,Mt=!0,_s=null,Mn=!1,e!==null&&Hp(n,e),n=Bf(n,o.children),n.flags|=4096);return n}return h?(ws(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Ui(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Ui(z,E):(E=Rr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,el(null,o),o=n.child,E=e.child.memoizedState,E===null?E=zf(a):(h=E.cachePool,h!==null?(I=Ae._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Xp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=jf(e,y,a),n.memoizedState=Lf,el(e.child,o)):(bs(n),a=e.child,e=a.sibling,a=Ui(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Bf(e,n){return n=ec({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ec(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function qf(e,n,a){return Mr(n,e.child,null,a),e=Bf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ly(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),nf(e.return,n,a)}function Hf(e,n,a,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function uy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=me.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,nt(me,y),Ge(e,n,o,a),o=Mt?qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ly(e,a,n);else if(e.tag===19)ly(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Hu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Hf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Hu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Hf(n,!0,a,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function qi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Cs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ea(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Ui(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ui(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Gf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function PA(e,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),Es(n,Ae,e.memoizedState.cache),Ir();break;case 27:case 5:or(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:Es(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(bs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?oy(e,n,a):(bs(n),e=qi(e,n,a),e!==null?e.sibling:null);bs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ea(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return uy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return n.lanes=0,ey(e,n,a,n.pendingProps);case 24:Es(n,Ae,e.memoizedState.cache)}return qi(e,n,a)}function cy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Gf(e,a)&&(n.flags&128)===0)return be=!1,PA(e,n,a);be=(e.flags&131072)!==0}else be=!1,Mt&&(n.flags&1048576)!==0&&qp(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=xr(n.elementType),n.type=e,typeof e=="function")Yh(e)?(o=kr(e,o),n.tag=1,n=ry(null,n,e,o,a)):(n.tag=0,n=Pf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Ht){n.tag=11,n=Jg(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=Wg(null,n,e,o,a);break t}}throw n=zt(e)||e,Error(r(306,n,""))}}return n;case 0:return Pf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=kr(o,n.pendingProps),ry(e,n,o,h,a);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,cf(e,n),$o(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Es(n,Ae,o),o!==f.cache&&sf(n,[Ae],a,!0),Xo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ay(e,n,o,a);break t}else if(o!==h){h=Dn(Error(r(424)),n),Ho(h),n=ay(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=kn(e.firstChild),qe=n,Mt=!0,_s=null,Mn=!0,a=eg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ir(),o===h){n=qi(e,n,a);break t}Ge(e,n,o,a)}n=n.child}return n;case 26:return tc(e,n),e===null?(a=T_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Mt||(a=n.type,e=n.pendingProps,o=yc(St.current).createElement(a),o[ve]=n,o[Ue]=e,Fe(o,a,e),Ee(o),n.stateNode=o):n.memoizedState=T_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return or(n),e===null&&Mt&&(o=n.stateNode=__(n.type,n.pendingProps,St.current),qe=n,Mn=!0,h=ne,Ms(n.type)?(Sd=h,ne=kn(o.firstChild)):ne=h),Ge(e,n,n.pendingProps.children,a),tc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=ne)&&(o=d1(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,qe=n,ne=kn(o.firstChild),Mn=!1,h=!0):h=!1),h||vs(n)),or(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,_d(h,f)?o=null:y!==null&&_d(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=yf(e,n,CA,null,null,a),gl._currentValue=h),tc(e,n),Ge(e,n,o,a),n.child;case 6:return e===null&&Mt&&((e=a=ne)&&(a=m1(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,qe=n,ne=null,e=!0):e=!1),e||vs(n)),null;case 13:return oy(e,n,a);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Mr(n,null,o,a):Ge(e,n,o,a),n.child;case 11:return Jg(e,n,n.type,n.pendingProps,a);case 7:return Ge(e,n,n.pendingProps,a),n.child;case 8:return Ge(e,n,n.pendingProps.children,a),n.child;case 12:return Ge(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Es(n,n.type,o.value),Ge(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Nr(n),h=He(h),o=o(h),n.flags|=1,Ge(e,n,o,a),n.child;case 14:return Wg(e,n,n.type,n.pendingProps,a);case 15:return ty(e,n,n.type,n.pendingProps,a);case 19:return uy(e,n,a);case 31:return UA(e,n,a);case 22:return ey(e,n,a,n.pendingProps);case 24:return Nr(n),o=He(Ae),e===null?(h=of(),h===null&&(h=te,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},uf(n),Es(n,Ae,h)):((e.lanes&a)!==0&&(cf(e,n),$o(n,null,null,a),Xo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Es(n,Ae,o)):(o=f.cache,Es(n,Ae,o),o!==h.cache&&sf(n,[Ae],a,!0))),Ge(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Hi(e){e.flags|=4}function Ff(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Py())e.flags|=8192;else throw Or=zu,lf}else e.flags&=-16777217}function hy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!R_(n))if(Py())e.flags|=8192;else throw Or=zu,lf}function nc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?lu():536870912,e.lanes|=n,Oa|=n)}function nl(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function LA(e,n,a){var o=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),zi(Ae),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(va(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hi(n),f!==null?(ie(n),hy(n,f)):(ie(n),Ff(n,h,null,o,a))):f?f!==e.memoizedState?(Hi(n),ie(n),hy(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Hi(n),ie(n),Ff(n,h,e,o,a)),null;case 27:if(Zr(n),a=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}e=rt.current,va(n)?Gp(n):(e=__(h,o,a),n.stateNode=e,Hi(n))}return ie(n),null;case 5:if(Zr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}if(f=rt.current,va(n))Gp(n);else{var y=yc(St.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[ve]=n,f[Ue]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Hi(n)}}return ie(n),Ff(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=St.current,va(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||o_(e.nodeValue,a)),e||vs(n,!0)}else e=yc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ie(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=va(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ve]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else a=tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ve]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),nc(n,n.updateQueue),ie(n),null);case 4:return re(),e===null&&dd(n.stateNode.containerInfo),ie(n),null;case 10:return zi(n.type),ie(n),null;case 19:if(Y(me),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)nl(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Hu(e),f!==null){for(n.flags|=128,nl(o,!1),e=f.updateQueue,n.updateQueue=e,nc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)zp(a,e),a=a.sibling;return nt(me,me.current&1|2),Mt&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>oc&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Hu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,nc(n,e),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return ie(n),null}else 2*tn()-o.renderingStartTime>oc&&a!==536870912&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=me.current,nt(me,h?a&1|2:a&1),Mt&&Pi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return vn(n),mf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&nc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(Dr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),zi(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function zA(e,n){switch(Jh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Ae),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Zr(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(r(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(me),null;case 4:return re(),null;case 10:return zi(n.type),null;case 22:case 23:return vn(n),mf(),e!==null&&Y(Dr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Ae),null;case 25:return null;default:return null}}function fy(e,n){switch(Jh(n),n.tag){case 3:zi(Ae),re();break;case 26:case 27:case 5:Zr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:Y(me);break;case 10:zi(n.type);break;case 22:case 23:vn(n),mf(),e!==null&&Y(Dr);break;case 24:zi(Ae)}}function il(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function Rs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var I=a,z=E;try{z()}catch(H){Yt(h,I,H)}}}o=o.next}while(o!==f)}}catch(H){Yt(n,n.return,H)}}function dy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{ig(n,a)}catch(o){Yt(e,e.return,o)}}}function my(e,n,a){a.props=kr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,n,o)}}function sl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,n,h)}}function Ti(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function py(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Qf(e,n,a){try{var o=e.stateNode;o1(o,e.type,a,n),o[Ue]=n}catch(h){Yt(e,e.return,h)}}function gy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ms(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ms(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Ms(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Yf(e,n,a),e=e.sibling;e!==null;)Yf(e,n,a),e=e.sibling}function ic(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Ms(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ic(e,n,a),e=e.sibling;e!==null;)ic(e,n,a),e=e.sibling}function yy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,a),n[ve]=e,n[Ue]=a}catch(f){Yt(e,e.return,f)}}var Gi=!1,we=!1,Xf=!1,_y=typeof WeakSet=="function"?WeakSet:Set,Le=null;function jA(e,n){if(e=e.containerInfo,gd=bc,e=Dp(e),Bh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,I=-1,z=0,H=0,K=e,j=null;e:for(;;){for(var q;K!==a||h!==0&&K.nodeType!==3||(E=y+h),K!==f||o!==0&&K.nodeType!==3||(I=y+o),K.nodeType===3&&(y+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===a&&++z===h&&(E=y),j===f&&++H===o&&(I=y),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(yd={focusedElem:e,selectionRange:a},bc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=kr(a.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Yt(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Ed(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function vy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),o&4&&il(5,a);break;case 1:if(Qi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){Yt(a,a.return,y)}else{var h=kr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Yt(a,a.return,y)}}o&64&&dy(a),o&512&&sl(a,a.return);break;case 3:if(Qi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ig(e,n)}catch(y){Yt(a,a.return,y)}}break;case 27:n===null&&o&4&&yy(a);case 26:case 5:Qi(e,a),n===null&&o&4&&py(a),o&512&&sl(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),o&4&&Ay(e,a);break;case 13:Qi(e,a),o&4&&Sy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=XA.bind(null,a),p1(e,a))));break;case 22:if(o=a.memoizedState!==null||Gi,!o){n=n!==null&&n.memoizedState!==null||we,h=Gi;var f=we;Gi=o,(we=n)&&!f?Ki(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Gi=h,we=f}break;case 30:break;default:Qi(e,a)}}function Ey(e){var n=e.alternate;n!==null&&(e.alternate=null,Ey(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&na(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Fi(e,n,a){for(a=a.child;a!==null;)Ty(e,n,a),a=a.sibling}function Ty(e,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:we||Ti(a,n),Fi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ti(a,n);var o=oe,h=an;Ms(a.type)&&(oe=a.stateNode,an=!1),Fi(e,n,a),dl(a.stateNode),oe=o,an=h;break;case 5:we||Ti(a,n);case 6:if(o=oe,h=an,oe=null,Fi(e,n,a),oe=o,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{oe.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:oe!==null&&(an?(e=oe,d_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ja(e)):d_(oe,a.stateNode));break;case 4:o=oe,h=an,oe=a.stateNode.containerInfo,an=!0,Fi(e,n,a),oe=o,an=h;break;case 0:case 11:case 14:case 15:Rs(2,a,n),we||Rs(4,a,n),Fi(e,n,a);break;case 1:we||(Ti(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&my(a,n,o)),Fi(e,n,a);break;case 21:Fi(e,n,a);break;case 22:we=(o=we)||a.memoizedState!==null,Fi(e,n,a),we=o;break;default:Fi(e,n,a)}}function Ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(a){Yt(n,n.return,a)}}}function Sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(a){Yt(n,n.return,a)}}function BA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new _y),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new _y),n;default:throw Error(r(435,e.tag))}}function sc(e,n){var a=BA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=$A.bind(null,e,o);o.then(h,h)}})}function on(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Ms(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(r(160));Ty(f,y,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)by(n,e),n=n.sibling}var Yn=null;function by(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(Rs(3,e,e.return),il(3,e),Rs(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(we||a===null||Ti(a,a.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Yn;if(on(n,e),ln(e),o&512&&(we||a===null||Ti(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[oi]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var y=b_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(y=b_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else w_(h,e.type,e.stateNode);else e.stateNode=S_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?w_(h,e.type,e.stateNode):S_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Qf(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(we||a===null||Ti(a,a.return)),a!==null&&o&4&&Qf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(we||a===null||Ti(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(at){Yt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Qf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Xf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Yt(e,e.return,at)}}break;case 3:if(Ec=null,h=Yn,Yn=_c(n.containerInfo),on(n,e),Yn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(at){Yt(e,e.return,at)}Xf&&(Xf=!1,wy(e));break;case 4:o=Yn,Yn=_c(e.stateNode.containerInfo),on(n,e),ln(e),Yn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ac=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Gi,H=we;if(Gi=z||h,we=H||I,on(n,e),we=H,Gi=z,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Gi||we||Ur(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Yt(I,I.return,at)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(at){Yt(I,I.return,at)}}}else if(n.tag===18){if(a===null){I=n;try{var q=I.stateNode;h?m_(q,!0):m_(I.stateNode,!1)}catch(at){Yt(I,I.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,sc(e,a))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(gy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Kf(e);ic(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(rn(y,""),a.flags&=-33);var E=Kf(e);ic(e,E,y);break;case 3:case 4:var I=a.stateNode.containerInfo,z=Kf(e);Yf(e,z,I);break;default:throw Error(r(161))}}catch(H){Yt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vy(e,n.alternate,n),n=n.sibling}function Ur(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Rs(4,n,n.return),Ur(n);break;case 1:Ti(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&my(n,n.return,a),Ur(n);break;case 27:dl(n.stateNode);case 26:case 5:Ti(n,n.return),Ur(n);break;case 22:n.memoizedState===null&&Ur(n);break;case 30:Ur(n);break;default:Ur(n)}e=e.sibling}}function Ki(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),il(4,f);break;case 1:if(Ki(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ng(I[h],E)}catch(z){Yt(o,o.return,z)}}a&&y&64&&dy(f),sl(f,f.return);break;case 27:yy(f);case 26:case 5:Ki(h,f,a),a&&o===null&&y&4&&py(f),sl(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&y&4&&Ay(h,f);break;case 13:Ki(h,f,a),a&&y&4&&Sy(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),sl(f,f.return);break;case 30:break;default:Ki(h,f,a)}n=n.sibling}}function $f(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function Zf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e))}function Xn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(e,n,a,o),n=n.sibling}function Ry(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,a,o),h&2048&&il(9,n);break;case 1:Xn(e,n,a,o);break;case 3:Xn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){Xn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else Xn(e,n,a,o);break;case 31:Xn(e,n,a,o);break;case 13:Xn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,a,o):rl(e,n):f._visibility&2?Xn(e,n,a,o):(f._visibility|=2,Na(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&$f(y,n);break;case 24:Xn(e,n,a,o),h&2048&&Zf(n.alternate,n);break;default:Xn(e,n,a,o)}}function Na(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=a,I=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Na(f,y,E,I,h),il(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Na(f,y,E,I,h):rl(f,y):(H._visibility|=2,Na(f,y,E,I,h)),h&&z&2048&&$f(y.alternate,y);break;case 24:Na(f,y,E,I,h),h&&z&2048&&Zf(y.alternate,y);break;default:Na(f,y,E,I,h)}n=n.sibling}}function rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:rl(a,o),h&2048&&$f(o.alternate,o);break;case 24:rl(a,o),h&2048&&Zf(o.alternate,o);break;default:rl(a,o)}n=n.sibling}}var al=8192;function Da(e,n,a){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Iy(e,n,a),e=e.sibling}function Iy(e,n,a){switch(e.tag){case 26:Da(e,n,a),e.flags&al&&e.memoizedState!==null&&I1(a,Yn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,a);break;case 3:case 4:var o=Yn;Yn=_c(e.stateNode.containerInfo),Da(e,n,a),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=al,al=16777216,Da(e,n,a),al=o):Da(e,n,a));break;default:Da(e,n,a)}}function Cy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,Dy(o,e)}Cy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ny(e),e=e.sibling}function Ny(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&Rs(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,rc(e)):ol(e);break;default:ol(e)}}function rc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,Dy(o,e)}Cy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Rs(8,n,n.return),rc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,rc(n));break;default:rc(n)}e=e.sibling}}function Dy(e,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Rs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(Ey(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var qA={getCacheForType:function(e){var n=He(Ae),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return He(Ae).controller.signal}},HA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,te=null,wt=null,It=0,Kt=0,En=null,Is=!1,xa=!1,Jf=!1,Yi=0,he=0,Cs=0,Pr=0,Wf=0,Tn=0,Oa=0,ll=null,un=null,td=!1,ac=0,xy=0,oc=1/0,lc=null,Ns=null,Oe=0,Ds=null,Ma=null,Xi=0,ed=0,nd=null,Oy=null,ul=0,id=null;function An(){return(Bt&2)!==0&&It!==0?It&-It:F.T!==null?ud():uu()}function My(){if(Tn===0)if((It&536870912)===0||Mt){var e=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function cn(e,n,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),xs(e,It,Tn,!1)),hr(e,a),((Bt&2)===0||e!==te)&&(e===te&&((Bt&2)===0&&(Pr|=a),he===4&&xs(e,It,Tn,!1)),Ai(e))}function Vy(e,n,a){if((Bt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?QA(e,n):rd(e,n,!0),f=o;do{if(h===0){xa&&!o&&xs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!GA(a)){h=rd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=ll;var I=E.current.memoizedState.isDehydrated;if(I&&(Va(E,y).flags|=256),y=rd(E,y,!1),y!==2){if(Jf&&!I){E.errorRecoveryDisabledLanes|=f,Pr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),xs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:xs(o,n,Tn,!Is);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ac+300-tn(),10<h)){if(xs(o,n,Tn,!Is),si(o,0,!0)!==0)break t;Xi=n,o.timeoutHandle=h_(ky.bind(null,o,a,un,lc,td,n,Tn,Pr,Oa,Is,f,"Throttled",-0,0),h);break t}ky(o,a,un,lc,td,n,Tn,Pr,Oa,Is,f,null,-0,0)}}break}while(!0);Ai(e)}function ky(e,n,a,o,h,f,y,E,I,z,H,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Iy(n,f,K);var at=(f&62914560)===f?ac-tn():(f&4194048)===f?xy-tn():0;if(at=C1(K,at),at!==null){Xi=f,e.cancelPendingCommit=at(Hy.bind(null,e,n,f,a,o,h,y,E,I,H,K,null,j,q)),xs(e,f,y,!z);return}}Hy(e,n,f,a,o,h,y,E,I)}function GA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xs(e,n,a,o){n&=~Wf,n&=~Pr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&fr(e,a,n)}function uc(){return(Bt&6)===0?(cl(0),!1):!0}function sd(){if(wt!==null){if(Kt===0)var e=wt.return;else e=wt,Li=Cr=null,Ef(e),ba=null,Qo=0,e=wt;for(;e!==null;)fy(e.alternate,e),e=e.return;wt=null}}function Va(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,c1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xi=0,sd(),te=e,wt=a=Ui(e.current,null),It=n,Kt=0,En=null,Is=!1,xa=zn(e,n),Jf=!1,Oa=Tn=Wf=Pr=Cs=he=0,un=ll=null,td=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Yi=n,Du(),a}function Uy(e,n){At=null,F.H=tl,n===Sa||n===Lu?(n=Jp(),Kt=3):n===lf?(n=Jp(),Kt=4):Kt=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,wt===null&&(he=1,Ju(e,Dn(n,e.current)))}function Py(){var e=_n.current;return e===null?!0:(It&4194048)===It?Vn===null:(It&62914560)===It||(It&536870912)!==0?e===Vn:!1}function Ly(){var e=F.H;return F.H=tl,e===null?tl:e}function zy(){var e=F.A;return F.A=qA,e}function cc(){he=4,Is||(It&4194048)!==It&&_n.current!==null||(xa=!0),(Cs&134217727)===0&&(Pr&134217727)===0||te===null||xs(te,It,Tn,!1)}function rd(e,n,a){var o=Bt;Bt|=2;var h=Ly(),f=zy();(te!==e||It!==n)&&(lc=null,Va(e,n)),n=!1;var y=he;t:do try{if(Kt!==0&&wt!==null){var E=wt,I=En;switch(Kt){case 8:sd(),y=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var z=Kt;if(Kt=0,En=null,ka(e,E,I,z),a&&xa){y=0;break t}break;default:z=Kt,Kt=0,En=null,ka(e,E,I,z)}}FA(),y=he;break}catch(H){Uy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Li=Cr=null,Bt=o,F.H=h,F.A=f,wt===null&&(te=null,It=0,Du()),y}function FA(){for(;wt!==null;)jy(wt)}function QA(e,n){var a=Bt;Bt|=2;var o=Ly(),h=zy();te!==e||It!==n?(lc=null,oc=tn()+500,Va(e,n)):xa=zn(e,n);t:do try{if(Kt!==0&&wt!==null){n=wt;var f=En;e:switch(Kt){case 1:Kt=0,En=null,ka(e,n,f,1);break;case 2:case 9:if($p(f)){Kt=0,En=null,By(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),Ai(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:$p(f)?(Kt=0,En=null,By(n)):(Kt=0,En=null,ka(e,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(y?R_(y):E.stateNode.complete){Kt=0,En=null;var I=E.sibling;if(I!==null)wt=I;else{var z=E.return;z!==null?(wt=z,hc(z)):wt=null}break e}}Kt=0,En=null,ka(e,n,f,5);break;case 6:Kt=0,En=null,ka(e,n,f,6);break;case 8:sd(),he=6;break t;default:throw Error(r(462))}}KA();break}catch(H){Uy(e,H)}while(!0);return Li=Cr=null,F.H=o,F.A=h,Bt=a,wt!==null?0:(te=null,It=0,Du(),he)}function KA(){for(;wt!==null&&!Vh();)jy(wt)}function jy(e){var n=cy(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?hc(e):wt=n}function By(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=sy(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=sy(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Ef(n);default:fy(a,n),n=wt=zp(n,Yi),n=cy(a,n,Yi)}e.memoizedProps=e.pendingProps,n===null?hc(e):wt=n}function ka(e,n,a,o){Li=Cr=null,Ef(n),ba=null,Qo=0;var h=n.return;try{if(kA(e,h,n,a,It)){he=1,Ju(e,Dn(a,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;he=1,Ju(e,Dn(a,e.current)),wt=null;return}n.flags&32768?(Mt||o===1?e=!0:xa||(It&536870912)!==0?e=!1:(Is=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(n,e)):hc(n)}function hc(e){var n=e;do{if((n.flags&32768)!==0){qy(n,Is);return}e=n.return;var a=LA(n.alternate,n,Yi);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);he===0&&(he=5)}function qy(e,n){do{var a=zA(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);he=6,wt=null}function Hy(e,n,a,o,h,f,y,E,I){e.cancelPendingCommit=null;do fc();while(Oe!==0);if((Bt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Qh,Ph(e,a,f,y,E,I),e===te&&(wt=te=null,It=0),Ma=n,Ds=e,Xi=a,ed=f,nd=h,Oy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ZA(os,function(){return Yy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,y=Bt,Bt|=4;try{jA(e,n,a)}finally{Bt=y,et.p=h,F.T=o}}Oe=1,Gy(),Fy(),Qy()}}function Gy(){if(Oe===1){Oe=0;var e=Ds,n=Ma,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=Bt;Bt|=4;try{by(n,e);var f=yd,y=Dp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Np(E.ownerDocument.documentElement,E)){if(I!==null&&Bh(E)){var z=I.start,H=I.end;if(H===void 0&&(H=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(H,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),at=E.textContent.length,ft=Math.min(I.start,at),Jt=I.end===void 0?ft:Math.min(I.end,at);!q.extend&&ft>Jt&&(y=Jt,Jt=ft,ft=y);var U=Cp(E,ft),D=Cp(E,Jt);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=K.createRange();L.setStart(U.node,U.offset),q.removeAllRanges(),ft>Jt?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}bc=!!gd,yd=gd=null}finally{Bt=h,et.p=o,F.T=a}}e.current=n,Oe=2}}function Fy(){if(Oe===2){Oe=0;var e=Ds,n=Ma,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=Bt;Bt|=4;try{vy(e,n.alternate,n)}finally{Bt=h,et.p=o,F.T=a}}Oe=3}}function Qy(){if(Oe===4||Oe===3){Oe=0,nu();var e=Ds,n=Ma,a=Xi,o=Oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Ma=Ds=null,Ky(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ns=null),Oi(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=h}}(Xi&3)!==0&&fc(),Ai(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===id?ul++:(ul=0,id=e):ul=0,cl(0)}}function Ky(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Go(n)))}function fc(){return Gy(),Fy(),Qy(),Yy()}function Yy(){if(Oe!==5)return!1;var e=Ds,n=ed;ed=0;var a=Oi(Xi),o=F.T,h=et.p;try{et.p=32>a?32:a,F.T=null,a=nd,nd=null;var f=Ds,y=Xi;if(Oe=0,Ma=Ds=null,Xi=0,(Bt&6)!==0)throw Error(r(331));var E=Bt;if(Bt|=4,Ny(f.current),Ry(f,f.current,y,a),Bt=E,cl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{et.p=h,F.T=o,Ky(e,n)}}function Xy(e,n,a){n=Dn(a,n),n=kf(e.stateNode,n,2),e=Ss(e,n,2),e!==null&&(hr(e,2),Ai(e))}function Yt(e,n,a){if(e.tag===3)Xy(e,e,a);else for(;n!==null;){if(n.tag===3){Xy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ns===null||!Ns.has(o))){e=Dn(a,e),a=$g(2),o=Ss(n,a,2),o!==null&&(Zg(a,o,n,e),hr(o,2),Ai(o));break}}n=n.return}}function ad(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new HA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Jf=!0,h.add(a),e=YA.bind(null,e,n,a),n.then(e,e))}function YA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(It&a)===a&&(he===4||he===3&&(It&62914560)===It&&300>tn()-ac?(Bt&2)===0&&Va(e,0):Wf|=a,Oa===It&&(Oa=0)),Ai(e)}function $y(e,n){n===0&&(n=lu()),e=wr(e,n),e!==null&&(hr(e,n),Ai(e))}function XA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),$y(e,a)}function $A(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),$y(e,a)}function ZA(e,n){return xe(e,n)}var dc=null,Ua=null,od=!1,mc=!1,ld=!1,Os=0;function Ai(e){e!==Ua&&e.next===null&&(Ua===null?dc=Ua=e:Ua=Ua.next=e),mc=!0,od||(od=!0,WA())}function cl(e,n){if(!ld&&mc){ld=!0;do for(var a=!1,o=dc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,t_(o,f))}else f=It,f=si(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(a=!0,t_(o,f));o=o.next}while(a);ld=!1}}function JA(){Zy()}function Zy(){mc=od=!1;var e=0;Os!==0&&u1()&&(e=Os);for(var n=tn(),a=null,o=dc;o!==null;){var h=o.next,f=Jy(o,n);f===0?(o.next=null,a===null?dc=h:a.next=h,h===null&&(Ua=a)):(a=o,(e!==0||(f&3)!==0)&&(mc=!0)),o=h}Oe!==0&&Oe!==5||cl(e),Os!==0&&(Os=0)}function Jy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-fe(f),E=1<<y,I=h[y];I===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Uh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,a=It,a=si(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&as(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&as(o),Oi(a)){case 2:case 8:a=Eo;break;case 32:a=os;break;case 268435456:a=iu;break;default:a=os}return o=Wy.bind(null,e),a=xe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&as(o),e.callbackPriority=2,e.callbackNode=null,2}function Wy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(fc()&&e.callbackNode!==a)return null;var o=It;return o=si(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Vy(e,o,n),Jy(e,tn()),e.callbackNode!=null&&e.callbackNode===a?Wy.bind(null,e):null)}function t_(e,n){if(fc())return null;Vy(e,n,!0)}function WA(){h1(function(){(Bt&6)!==0?xe(vo,JA):Zy()})}function ud(){if(Os===0){var e=Ta;e===0&&(e=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Os=e}return Os}function e_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function n_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function t1(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=e_((h[Ue]||null).action),y=o.submitter;y&&(n=(n=y[Ue]||null)?e_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new pi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Os!==0){var I=y?n_(h,y):new FormData(h);Nf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=y?n_(h,y):new FormData(h),Nf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var cd=0;cd<Fh.length;cd++){var hd=Fh[cd],e1=hd.toLowerCase(),n1=hd[0].toUpperCase()+hd.slice(1);Kn(e1,"on"+n1)}Kn(Mp,"onAnimationEnd"),Kn(Vp,"onAnimationIteration"),Kn(kp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(_A,"onTransitionRun"),Kn(vA,"onTransitionStart"),Kn(EA,"onTransitionCancel"),Kn(Up,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function i_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(H){Nu(H)}h.currentTarget=null,f=I}else for(y=0;y<o.length;y++){if(E=o[y],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(H){Nu(H)}h.currentTarget=null,f=I}}}}function Rt(e,n){var a=n[ea];a===void 0&&(a=n[ea]=new Set);var o=e+"__bubble";a.has(o)||(s_(n,e,2,!1),a.add(o))}function fd(e,n,a){var o=0;n&&(o|=4),s_(a,e,o,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function dd(e){if(!e[pc]){e[pc]=!0,So.forEach(function(a){a!=="selectionchange"&&(i1.has(a)||fd(a,!1,e),fd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[pc]||(n[pc]=!0,fd("selectionchange",!1,n))}}function s_(e,n,a,o){switch(M_(n)){case 2:var h=x1;break;case 8:h=O1;break;default:h=Cd}a=h.bind(null,n,a,e),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function md(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var I=y.tag;if((I===3||I===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=li(E),y===null)return;if(I=y.tag,I===5||I===6||I===26||I===27){o=f=y;continue t}E=E.parentNode}}o=o.return}ds(function(){var z=f,H=Rn(a),K=[];t:{var j=Pp.get(e);if(j!==void 0){var q=pi,at=e;switch(e){case"keypress":if(vr(a)===0)break t;case"keydown":case"keyup":q=Ru;break;case"focusin":at="focus",q=Tr;break;case"focusout":at="blur",q=Tr;break;case"beforeblur":case"afterblur":q=Tr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Mp:case Vp:case kp:q=vu;break;case Up:q=T;break;case"scroll":case"scrollend":q=ko;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ki;break;case"toggle":case"beforetoggle":q=Tt}var ft=(n&4)!==0,Jt=!ft&&(e==="scroll"||e==="scrollend"),U=ft?j!==null?j+"Capture":null:j;ft=[];for(var D=z,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||U===null||(Q=Hn(D,U),Q!=null&&ft.push(fl(D,Q,L))),Jt)break;D=D.return}0<ft.length&&(j=new q(j,at,null,a,H),K.push({event:j,listeners:ft}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Oo&&(at=a.relatedTarget||a.fromElement)&&(li(at)||at[ai]))break t;if((q||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=z,at=at?li(at):null,at!==null&&(Jt=c(at),ft=at.tag,at!==Jt||ft!==5&&ft!==27&&ft!==6)&&(at=null)):(q=null,at=z),q!==at)){if(ft=Uo,Q="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ft=ki,Q="onPointerLeave",U="onPointerEnter",D="pointer"),Jt=q==null?j:mn(q),L=at==null?j:mn(at),j=new ft(Q,D+"leave",q,a,H),j.target=Jt,j.relatedTarget=L,Q=null,li(H)===z&&(ft=new ft(U,D+"enter",at,a,H),ft.target=L,ft.relatedTarget=Jt,Q=ft),Jt=Q,q&&at)e:{for(ft=s1,U=q,D=at,L=0,Q=U;Q;Q=ft(Q))L++;Q=0;for(var ut=D;ut;ut=ft(ut))Q++;for(;0<L-Q;)U=ft(U),L--;for(;0<Q-L;)D=ft(D),Q--;for(;L--;){if(U===D||D!==null&&U===D.alternate){ft=U;break e}U=ft(U),D=ft(D)}ft=null}else ft=null;q!==null&&r_(K,j,q,ft,!1),at!==null&&Jt!==null&&r_(K,Jt,at,ft,!0)}}t:{if(j=z?mn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Pt=Ap;else if(Ep(j))if(Sp)Pt=pA;else{Pt=dA;var ot=fA}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ra(z.elementType)&&(Pt=Ap):Pt=mA;if(Pt&&(Pt=Pt(e,z))){Tp(K,Pt,a,H);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&No(j,"number",j.value)}switch(ot=z?mn(z):window,e){case"focusin":(Ep(ot)||ot.contentEditable==="true")&&(da=ot,qh=z,Bo=null);break;case"focusout":Bo=qh=da=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,xp(K,a,H);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":xp(K,a,H)}var bt;if(jt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else fa?Ar(e,a)&&(Ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(_i&&a.locale!=="ko"&&(fa||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&fa&&(bt=Vo()):(mi=H,Mo="value"in mi?mi.value:mi.textContent,fa=!0)),ot=gc(z,Ct),0<ot.length&&(Ct=new yi(Ct,e,null,a,H),K.push({event:Ct,listeners:ot}),bt?Ct.data=bt:(bt=ha(a),bt!==null&&(Ct.data=bt)))),(bt=Cn?lA(e,a):uA(e,a))&&(Ct=gc(z,"onBeforeInput"),0<Ct.length&&(ot=new yi("onBeforeInput","beforeinput",null,a,H),K.push({event:ot,listeners:Ct}),ot.data=bt)),t1(K,e,z,a,H)}i_(K,n)})}function fl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function gc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,a),h!=null&&o.unshift(fl(e,h,f)),h=Hn(e,n),h!=null&&o.push(fl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function s1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function r_(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Hn(a,f),z!=null&&y.unshift(fl(a,z,I))):h||(z=Hn(a,f),z!=null&&y.push(fl(a,z,I)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var r1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function a_(e){return(typeof e=="string"?e:""+e).replace(r1,`
`).replace(a1,"")}function o_(e,n){return n=a_(n),a_(e)===n}function Zt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,o);break;case"style":xo(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=aa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=aa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=aa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),ia(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,ia(e,a,o))}}function pd(e,n,a,o,h,f){switch(a){case"style":xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ue]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ia(e,a,o)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,f,y,a,null)}}h&&Zt(e,n,"srcSet",a.srcSet,a,null),o&&Zt(e,n,"src",a.src,a,null);return;case"input":Rt("invalid",e);var E=f=y=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":y=H;break;case"checked":I=H;break;case"defaultChecked":z=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Zt(e,n,o,H,a,null)}}du(e,f,E,I,z,y,h,!1);return;case"select":Rt("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Zt(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!o,n!=null?us(e,!!o,n,!1):a!=null&&us(e,!!o,a,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(e,n,y,E,a,null)}cs(e,o,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,I,o,a,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<hl.length;o++)Rt(hl[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,z,o,a,null)}return;default:if(ra(n)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&pd(e,n,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Zt(e,n,E,o,a,null))}function o1(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,I=null,z=null,H=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=K;default:o.hasOwnProperty(q)||Zt(e,n,q,null,o,K)}}for(var j in o){var q=o[j];if(K=a[j],o.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==K&&Zt(e,n,j,q,o,K)}}sa(e,y,E,I,z,H,f,h);return;case"select":q=y=E=j=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==I&&Zt(e,n,h,f,o,I)}n=E,a=y,o=q,j!=null?us(e,!!a,j,!1):!!o!=!!a&&(n!=null?us(e,!!a,n,!0):us(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Zt(e,n,y,h,o,f)}mu(e,j,q);return;case"option":for(var at in a)if(j=a[at],a.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Zt(e,n,at,null,o,j)}for(I in o)if(j=o[I],q=a[I],o.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Zt(e,n,I,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)j=a[ft],a.hasOwnProperty(ft)&&j!=null&&!o.hasOwnProperty(ft)&&Zt(e,n,ft,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Zt(e,n,z,j,o,q)}return;default:if(ra(n)){for(var Jt in a)j=a[Jt],a.hasOwnProperty(Jt)&&j!==void 0&&!o.hasOwnProperty(Jt)&&pd(e,n,Jt,void 0,o,j);for(H in o)j=o[H],q=a[H],!o.hasOwnProperty(H)||j===q||j===void 0&&q===void 0||pd(e,n,H,j,o,q);return}}for(var U in a)j=a[U],a.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&Zt(e,n,U,null,o,j);for(K in o)j=o[K],q=a[K],!o.hasOwnProperty(K)||j===q||j==null&&q==null||Zt(e,n,K,j,o,q)}function l_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function l1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&l_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>E)break;var H=I.transferSize,K=I.initiatorType;H&&l_(K)&&(I=I.responseEnd,y+=H*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gd=null,yd=null;function yc(e){return e.nodeType===9?e:e.ownerDocument}function u_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function _d(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function u1(){var e=window.event;return e&&e.type==="popstate"?e===vd?!1:(vd=e,!0):(vd=null,!1)}var h_=typeof setTimeout=="function"?setTimeout:void 0,c1=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,h1=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(e){return f_.resolve(null).then(e).catch(f1)}:h_;function f1(e){setTimeout(function(){throw e})}function Ms(e){return e==="head"}function d_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),ja(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")dl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,dl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[oi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&dl(e.ownerDocument.body);a=h}while(a);ja(n)}function m_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Ed(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ed(a),na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function d1(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[oi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function m1(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function p_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function Td(e){return e.data==="$?"||e.data==="$~"}function Ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function p1(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Sd=null;function g_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return kn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function y_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function __(e,n,a){switch(n=yc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);na(e)}var Un=new Map,v_=new Set;function _c(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=et.d;et.d={f:g1,r:y1,D:_1,C:v1,L:E1,m:T1,X:S1,S:A1,M:b1};function g1(){var e=$i.f(),n=uc();return e||n}function y1(e){var n=wn(e);n!==null&&n.tag===5&&n.type==="form"?Ug(n):$i.r(e)}var Pa=typeof document>"u"?null:document;function E_(e,n,a){var o=Pa;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),v_.has(h)||(v_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Ee(n),o.head.appendChild(n)))}}function _1(e){$i.D(e),E_("dns-prefetch",e,null)}function v1(e,n){$i.C(e,n),E_("preconnect",e,n)}function E1(e,n,a){$i.L(e,n,a);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=za(e)}Un.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ml(f))||n==="script"&&o.querySelector(pl(f))||(n=o.createElement("link"),Fe(n,"link",e),Ee(n),o.head.appendChild(n)))}}function T1(e,n){$i.m(e,n);var a=Pa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Un.has(f)&&(e=S({rel:"modulepreload",href:e},n),Un.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(f)))return}o=a.createElement("link"),Fe(o,"link",e),Ee(o),a.head.appendChild(o)}}}function A1(e,n,a){$i.S(e,n,a);var o=Pa;if(o&&e){var h=ui(o).hoistableStyles,f=La(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(ml(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Un.get(f))&&bd(e,a);var I=y=o.createElement("link");Ee(I),Fe(I,"link",e),I._p=new Promise(function(z,H){I.onload=z,I.onerror=H}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function S1(e,n){$i.X(e,n);var a=Pa;if(a&&e){var o=ui(a).hoistableScripts,h=za(e),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(e=S({src:e,async:!0},n),(n=Un.get(h))&&wd(e,n),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function b1(e,n){$i.M(e,n);var a=Pa;if(a&&e){var o=ui(a).hoistableScripts,h=za(e),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&wd(e,n),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function T_(e,n,a,o){var h=(h=St.current)?_c(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=La(a.href),a=ui(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=La(a.href);var f=ui(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(ml(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),f||w1(h,e,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(a),a=ui(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function La(e){return'href="'+sn(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function A_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function w1(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",a),Ee(n),e.head.appendChild(n))}function za(e){return'[src="'+sn(e)+'"]'}function pl(e){return"script[async]"+e}function S_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Fe(o,"style",h),vc(o,a.precedence,e),n.instance=o;case"stylesheet":h=La(a.href);var f=e.querySelector(ml(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=A_(a),(h=Un.get(h))&&bd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var y=f;return y._p=new Promise(function(E,I){y.onload=E,y.onerror=I}),Fe(f,"link",o),n.state.loading|=4,vc(f,a.precedence,e),n.instance=f;case"script":return f=za(a.src),(h=e.querySelector(pl(f)))?(n.instance=h,Ee(h),h):(o=a,(h=Un.get(f))&&(o=S({},a),wd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,vc(o,a.precedence,e));return n.instance}function vc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ec=null;function b_(e,n,a){if(Ec===null){var o=new Map,h=Ec=new Map;h.set(a,o)}else h=Ec,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[oi]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function w_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function R1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function I1(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=La(o.href),f=n.querySelector(ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Tc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,o=A_(o),(h=Un.get(h))&&bd(o,h),f=f.createElement("link"),Ee(f);var y=f;y._p=new Promise(function(E,I){y.onload=E,y.onerror=I}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Tc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Rd=0;function C1(e,n){return e.stylesheets&&e.count===0&&Sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Rd===0&&(Rd=62500*l1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Rd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ac=null;function Sc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ac=new Map,n.forEach(N1,e),Ac=null,Tc.call(e))}function N1(e,n){if(!(n.state.loading&4)){var a=Ac.get(e);if(a)var o=a.get(null);else{a=new Map,Ac.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Tc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function D1(e,n,a,o,h,f,y,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function I_(e,n,a,o,h,f,y,E,I,z,H,K){return e=new D1(e,n,a,y,I,z,H,K,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=rf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},uf(f),e}function C_(e){return e?(e=ga,e):ga}function N_(e,n,a,o,h,f){h=C_(h),o.context===null?o.context=h:o.pendingContext=h,o=As(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ss(e,o,n),a!==null&&(cn(a,e,n),Yo(a,e,n))}function D_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Id(e,n){D_(e,n),(e=e.alternate)&&D_(e,n)}function x_(e){if(e.tag===13||e.tag===31){var n=wr(e,67108864);n!==null&&cn(n,e,67108864),Id(e,67108864)}}function O_(e){if(e.tag===13||e.tag===31){var n=An();n=dr(n);var a=wr(e,n);a!==null&&cn(a,e,n),Id(e,n)}}var bc=!0;function x1(e,n,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,Cd(e,n,a,o)}finally{et.p=f,F.T=h}}function O1(e,n,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,Cd(e,n,a,o)}finally{et.p=f,F.T=h}}function Cd(e,n,a,o){if(bc){var h=Nd(o);if(h===null)md(e,n,o,wc,a),V_(e,o);else if(V1(h,e,n,a,o))o.stopPropagation();else if(V_(e,o),n&4&&-1<M1.indexOf(e)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ii(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var I=1<<31-fe(y);E.entanglements[1]|=I,y&=~I}Ai(f),(Bt&6)===0&&(oc=tn()+500,cl(0))}}break;case 31:case 13:E=wr(f,2),E!==null&&cn(E,f,2),uc(),Id(f,2)}if(f=Nd(o),f===null&&md(e,n,o,wc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else md(e,n,o,null,a)}}function Nd(e){return e=Rn(e),Dd(e)}var wc=null;function Dd(e){if(wc=null,e=li(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return wc=e,null}function M_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case vo:return 2;case Eo:return 8;case os:case kh:return 32;case iu:return 268435456;default:return 32}default:return 32}}var xd=!1,Vs=null,ks=null,Us=null,yl=new Map,_l=new Map,Ps=[],M1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(e,n){switch(e){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&x_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function V1(e,n,a,o,h){switch(n){case"focusin":return Vs=vl(Vs,e,n,a,o,h),!0;case"dragenter":return ks=vl(ks,e,n,a,o,h),!0;case"mouseover":return Us=vl(Us,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,e,n,a,o,h)),!0}return!1}function k_(e){var n=li(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,jn(e.priority,function(){O_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,jn(e.priority,function(){O_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Nd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Oo=o,a.target.dispatchEvent(o),Oo=null}else return n=wn(a),n!==null&&x_(n),e.blockedOn=a,!1;n.shift()}return!0}function U_(e,n,a){Rc(e)&&a.delete(n)}function k1(){xd=!1,Vs!==null&&Rc(Vs)&&(Vs=null),ks!==null&&Rc(ks)&&(ks=null),Us!==null&&Rc(Us)&&(Us=null),yl.forEach(U_),_l.forEach(U_)}function Ic(e,n){e.blockedOn===n&&(e.blockedOn=null,xd||(xd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,k1)))}var Cc=null;function P_(e){Cc!==e&&(Cc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===e&&(Cc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Dd(o||a)===null)continue;break}var f=wn(a);f!==null&&(e.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ja(e){function n(I){return Ic(I,e)}Vs!==null&&Ic(Vs,e),ks!==null&&Ic(ks,e),Us!==null&&Ic(Us,e),yl.forEach(n),_l.forEach(n);for(var a=0;a<Ps.length;a++){var o=Ps[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ps.length&&(a=Ps[0],a.blockedOn===null);)k_(a),a.blockedOn===null&&Ps.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Ue]||null;if(typeof f=="function")y||P_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Ue]||null)E=y.formAction;else if(Dd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),P_(a)}}}function L_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(e){this._internalRoot=e}Nc.prototype.render=Od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=An();N_(a,o,e,n,null,null)},Nc.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;N_(e.current,2,null,e,null,null),uc(),n[ai]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var n=uu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ps.length&&n!==0&&n<Ps[a].priority;a++);Ps.splice(a,0,e),a===0&&k_(e)}};var z_=t.version;if(z_!=="19.2.1")throw Error(r(527,z_,"19.2.1"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var U1={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Ln=Dc.inject(U1),je=Dc}catch{}}return Tl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=Qg,f=Kg,y=Yg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=I_(e,1,!1,null,null,a,o,null,h,f,y,L_),e[ai]=n.current,dd(e),new Od(n)},Tl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Qg,y=Kg,E=Yg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=I_(e,1,!0,n,a??null,o,h,I,f,y,E,L_),n.context=C_(null),a=n.current,o=An(),o=dr(o),h=As(o),h.callback=null,Ss(a,h,o),a=o,n.current.lanes=a,hr(n,a),Ai(n),e[ai]=n.current,dd(e),new Nc(n)},Tl.version="19.2.1",Tl}var X_;function Q1(){if(X_)return kd.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kd.exports=F1(),kd.exports}var K1=Q1();const Y1=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X1=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),$_=s=>{const t=X1(s);return t.charAt(0).toUpperCase()+t.slice(1)},V0=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),$1=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Z1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const J1=qt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},g)=>qt.createElement("svg",{ref:g,...Z1,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:V0("lucide",l),...!c&&!$1(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>qt.createElement(_,A)),...Array.isArray(c)?c:[c]]));const ke=(s,t)=>{const i=qt.forwardRef(({className:r,...l},c)=>qt.createElement(J1,{ref:c,iconNode:t,className:V0(`lucide-${Y1($_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=$_(s),i};const W1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tS=ke("check",W1);const eS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],nS=ke("copy",eS);const iS=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],wm=ke("cpu",iS);const sS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],rS=ke("credit-card",sS);const aS=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],oS=ke("folder",aS);const lS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],uS=ke("globe",lS);const cS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hS=ke("lock",cS);const fS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dS=ke("log-out",fS);const mS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pS=ke("mail",mS);const gS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],yS=ke("menu",gS);const _S=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Xc=ke("panels-top-left",_S);const vS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],k0=ke("plus",vS);const ES=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],TS=ke("search",ES);const AS=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],SS=ke("share-2",AS);const bS=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],wS=ke("smartphone",bS);const RS=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],IS=ke("square-check-big",RS);const CS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],NS=ke("trash-2",CS);const DS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],U0=ke("x",DS);const xS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],OS=ke("zap",xS),MS=()=>{};var Z_={};const P0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},VS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},L0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let O=(p&15)<<2|_>>6,G=_&63;g||(G=64,d||(O=64)),r.push(i[A],i[S],i[O],i[G])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(P0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):VS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new kS;const O=c<<2|p>>4;if(r.push(O),_!==64){const G=p<<4&240|_>>2;if(r.push(G),S!==64){const J=_<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class kS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(s){const t=P0(s);return L0.encodeByteArray(t,!0)},$c=function(s){return US(s).replace(/\./g,"")},z0=function(s){try{return L0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function PS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LS=()=>PS().__FIREBASE_DEFAULTS__,zS=()=>{if(typeof process>"u"||typeof Z_>"u")return;const s=Z_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&z0(s[1]);return t&&JSON.parse(t)},mh=()=>{try{return MS()||LS()||zS()||jS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},j0=s=>mh()?.emulatorHosts?.[s],BS=s=>{const t=j0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},B0=()=>mh()?.config,q0=s=>mh()?.[`_${s}`];class qS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function ao(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function H0(s){return(await fetch(s,{credentials:"include"})).ok}function HS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[$c(JSON.stringify(i)),$c(JSON.stringify(d)),""].join(".")}const Cl={};function GS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?s.emulator.push(t):s.prod.push(t);return s}function FS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let J_=!1;function G0(s,t){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||Cl[s]===t||Cl[s]||J_)return;Cl[s]=t;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=GS().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function g(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{J_=!0,d()},O}function A(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=FS(r),G=i("text"),J=document.getElementById(G)||document.createElement("span"),W=i("learnmore"),Z=document.getElementById(W)||document.createElement("a"),lt=i("preprendIcon"),yt=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const dt=O.element;p(dt),A(Z,W);const Ht=_();g(yt,lt),dt.append(yt,J,Z,Ht),document.body.appendChild(dt)}c?(J.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function KS(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function $S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZS(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function JS(){return!KS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WS(){try{return typeof indexedDB=="object"}catch{return!1}}function tb(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const eb="FirebaseError";class is extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=eb,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?nb(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new is(l,p,r)}}function nb(s,t){return s.replace(ib,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const ib=/\{\$([^}]+)}/g;function sb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Hr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(W_(c)&&W_(d)){if(!Hr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function W_(s){return s!==null&&typeof s=="object"}function Ql(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Al(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Sl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function rb(s,t){const i=new ab(s,t);return i.subscribe.bind(i)}class ab{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");ob(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=zd),l.error===void 0&&(l.error=zd),l.complete===void 0&&(l.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ob(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function zd(){}function Ve(s){return s&&s._delegate?s._delegate:s}class Gr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zr="[DEFAULT]";class lb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new qS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cb(t))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zr){return this.instances.has(t)}getOptions(t=zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ub(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=zr){return this.component?this.component.multipleInstances?t:zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ub(s){return s===zr?void 0:s}function cb(s){return s.instantiationMode==="EAGER"}class hb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new lb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const fb={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},db=Nt.INFO,mb={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},pb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=mb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rm{constructor(t){this.name=t,this._logLevel=db,this._logHandler=pb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const gb=(s,t)=>t.some(i=>s instanceof i);let tv,ev;function yb(){return tv||(tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _b(){return ev||(ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F0=new WeakMap,Zd=new WeakMap,Q0=new WeakMap,jd=new WeakMap,Im=new WeakMap;function vb(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Qs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&F0.set(i,s)}).catch(()=>{}),Im.set(t,s),t}function Eb(s){if(Zd.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Zd.set(s,t)}let Jd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Zd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Q0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Tb(s){Jd=s(Jd)}function Ab(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Bd(this),t,...i);return Q0.set(r,t.sort?t.sort():[t]),Qs(r)}:_b().includes(s)?function(...t){return s.apply(Bd(this),t),Qs(F0.get(this))}:function(...t){return Qs(s.apply(Bd(this),t))}}function Sb(s){return typeof s=="function"?Ab(s):(s instanceof IDBTransaction&&Eb(s),gb(s,yb())?new Proxy(s,Jd):s)}function Qs(s){if(s instanceof IDBRequest)return vb(s);if(jd.has(s))return jd.get(s);const t=Sb(s);return t!==s&&(jd.set(s,t),Im.set(t,s)),t}const Bd=s=>Im.get(s);function bb(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Qs(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Qs(d.result),g.oldVersion,g.newVersion,Qs(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const wb=["get","getKey","getAll","getAllKeys","count"],Rb=["put","add","delete","clear"],qd=new Map;function nv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(qd.get(t))return qd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=Rb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||wb.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&g.done]))[0]};return qd.set(t,c),c}Tb(s=>({...s,get:(t,i,r)=>nv(t,i)||s.get(t,i,r),has:(t,i)=>!!nv(t,i)||s.has(t,i)}));class Ib{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Cb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Cb(s){return s.getComponent()?.type==="VERSION"}const Wd="@firebase/app",iv="0.14.6";const Wi=new Rm("@firebase/app"),Nb="@firebase/app-compat",Db="@firebase/analytics-compat",xb="@firebase/analytics",Ob="@firebase/app-check-compat",Mb="@firebase/app-check",Vb="@firebase/auth",kb="@firebase/auth-compat",Ub="@firebase/database",Pb="@firebase/data-connect",Lb="@firebase/database-compat",zb="@firebase/functions",jb="@firebase/functions-compat",Bb="@firebase/installations",qb="@firebase/installations-compat",Hb="@firebase/messaging",Gb="@firebase/messaging-compat",Fb="@firebase/performance",Qb="@firebase/performance-compat",Kb="@firebase/remote-config",Yb="@firebase/remote-config-compat",Xb="@firebase/storage",$b="@firebase/storage-compat",Zb="@firebase/firestore",Jb="@firebase/ai",Wb="@firebase/firestore-compat",tw="firebase",ew="12.6.0";const tm="[DEFAULT]",nw={[Wd]:"fire-core",[Nb]:"fire-core-compat",[xb]:"fire-analytics",[Db]:"fire-analytics-compat",[Mb]:"fire-app-check",[Ob]:"fire-app-check-compat",[Vb]:"fire-auth",[kb]:"fire-auth-compat",[Ub]:"fire-rtdb",[Pb]:"fire-data-connect",[Lb]:"fire-rtdb-compat",[zb]:"fire-fn",[jb]:"fire-fn-compat",[Bb]:"fire-iid",[qb]:"fire-iid-compat",[Hb]:"fire-fcm",[Gb]:"fire-fcm-compat",[Fb]:"fire-perf",[Qb]:"fire-perf-compat",[Kb]:"fire-rc",[Yb]:"fire-rc-compat",[Xb]:"fire-gcs",[$b]:"fire-gcs-compat",[Zb]:"fire-fst",[Wb]:"fire-fst-compat",[Jb]:"fire-vertex","fire-js":"fire-js",[tw]:"fire-js-all"};const Zc=new Map,iw=new Map,em=new Map;function sv(s,t){try{s.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ja(s){const t=s.name;if(em.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;em.set(t,s);for(const i of Zc.values())sv(i,s);for(const i of iw.values())sv(i,s);return!0}function Cm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function fn(s){return s==null?!1:s.settings!==void 0}const sw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Fl("app","Firebase",sw);class rw{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const oo=ew;function K0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:tm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Ks.create("bad-app-name",{appName:String(l)});if(i||(i=B0()),!i)throw Ks.create("no-options");const c=Zc.get(l);if(c){if(Hr(i,c.options)&&Hr(r,c.config))return c;throw Ks.create("duplicate-app",{appName:l})}const d=new hb(l);for(const g of em.values())d.addComponent(g);const p=new rw(i,r,d);return Zc.set(l,p),p}function Y0(s=tm){const t=Zc.get(s);if(!t&&s===tm&&B0())return K0();if(!t)throw Ks.create("no-app",{appName:s});return t}function Ys(s,t,i){let r=nw[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Ja(new Gr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const aw="firebase-heartbeat-database",ow=1,Vl="firebase-heartbeat-store";let Hd=null;function X0(){return Hd||(Hd=bb(aw,ow,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ks.create("idb-open",{originalErrorMessage:s.message})})),Hd}async function lw(s){try{const i=(await X0()).transaction(Vl),r=await i.objectStore(Vl).get($0(s));return await i.done,r}catch(t){if(t instanceof is)Wi.warn(t.message);else{const i=Ks.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function rv(s,t){try{const r=(await X0()).transaction(Vl,"readwrite");await r.objectStore(Vl).put(t,$0(s)),await r.done}catch(i){if(i instanceof is)Wi.warn(i.message);else{const r=Ks.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(r.message)}}}function $0(s){return`${s.name}!${s.options.appId}`}const uw=1024,cw=30;class hw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>cw){const l=mw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=av(),{heartbeatsToSend:i,unsentEntries:r}=fw(this._heartbeatsCache.heartbeats),l=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function av(){return new Date().toISOString().substring(0,10)}function fw(s,t=uw){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),ov(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),ov(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class dw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WS()?tb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function ov(s){return $c(JSON.stringify({version:2,heartbeats:s})).length}function mw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function pw(s){Ja(new Gr("platform-logger",t=>new Ib(t),"PRIVATE")),Ja(new Gr("heartbeat",t=>new hw(t),"PRIVATE")),Ys(Wd,iv,s),Ys(Wd,iv,"esm2020"),Ys("fire-js","")}pw("");var gw="firebase",yw="12.6.0";Ys(gw,yw,"app");function Z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _w=Z0,J0=new Fl("auth","Firebase",Z0());const Jc=new Rm("@firebase/auth");function vw(s,...t){Jc.logLevel<=Nt.WARN&&Jc.warn(`Auth (${oo}): ${s}`,...t)}function Lc(s,...t){Jc.logLevel<=Nt.ERROR&&Jc.error(`Auth (${oo}): ${s}`,...t)}function Wn(s,...t){throw Nm(s,...t)}function bi(s,...t){return Nm(s,...t)}function W0(s,t,i){const r={..._w(),[t]:i};return new Fl("auth","Firebase",r).create(t,{appName:s.name})}function Zn(s){return W0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return J0.create(s,...t)}function mt(s,t,...i){if(!s)throw Nm(t,...i)}function Zi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Lc(t),new Error(t)}function ts(s,t){s||Zi(t)}function nm(){return typeof self<"u"&&self.location?.href||""}function Ew(){return lv()==="http:"||lv()==="https:"}function lv(){return typeof self<"u"&&self.location?.protocol||null}function Tw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ew()||XS()||"connection"in navigator)?navigator.onLine:!0}function Aw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ts(i>t,"Short delay should be less than long delay!"),this.isMobile=QS()||$S()}get(){return Tw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(s,t){ts(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class tE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ww=new Kl(3e4,6e4);function ss(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function sr(s,t,i,r,l={}){return eE(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=Ql({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:g,...c};return YS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&ao(s.emulatorConfig.host)&&(_.credentials="include"),tE.fetch()(await nE(s,s.config.apiHost,i,p),_)})}async function eE(s,t,i){s._canInitEmulator=!1;const r={...Sw,...t};try{const l=new Iw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw xc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw xc(s,"user-disabled",d);const A=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw W0(s,A,_);Wn(s,A)}}catch(l){if(l instanceof is)throw l;Wn(s,"network-request-failed",{message:String(l)})}}async function lo(s,t,i,r,l={}){const c=await sr(s,t,i,r,l);return"mfaPendingCredential"in c&&Wn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function nE(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Dm(s.config,l):`${s.config.apiScheme}://${l}`;return bw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Rw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Iw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(bi(this.auth,"network-request-failed")),ww.get())})}}function xc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=bi(s,t,r);return l.customData._tokenResponse=i,l}function uv(s){return s!==void 0&&s.enterprise!==void 0}class Cw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Rw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Nw(s,t){return sr(s,"GET","/v2/recaptchaConfig",ss(s,t))}async function Dw(s,t){return sr(s,"POST","/v1/accounts:delete",t)}async function Wc(s,t){return sr(s,"POST","/v1/accounts:lookup",t)}function Nl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function xw(s,t=!1){const i=Ve(s),r=await i.getIdToken(t),l=xm(r);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Nl(Gd(l.auth_time)),issuedAtTime:Nl(Gd(l.iat)),expirationTime:Nl(Gd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Gd(s){return Number(s)*1e3}function xm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=z0(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function cv(s){const t=xm(s);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof is&&Ow(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Ow({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Mw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class im{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(s){const t=s.auth,i=await s.getIdToken(),r=await kl(s,Wc(t,{idToken:i}));mt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?iE(l.providerUserInfo):[],d=kw(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=p?g:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function Vw(s){const t=Ve(s);await th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function iE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Uw(s,t){const i=await eE(s,{},async()=>{const r=Ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await nE(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&ao(s.emulatorConfig.host)&&(g.credentials="include"),tE.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Pw(s,t){return sr(s,"POST","/v2/accounts:revokeToken",ss(s,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=cv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Uw(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Qa;return r&&(mt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function zs(s,t){mt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Mw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new im(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await kl(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return xw(this,t)}reload(){return Vw(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(Zn(this.auth));const t=await this.getIdToken();return await kl(this,Dw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:G,providerData:J,stsTokenManager:W}=i;mt(S&&W,t,"internal-error");const Z=Qa.fromJSON(this.name,W);mt(typeof S=="string",t,"internal-error"),zs(r,t.name),zs(l,t.name),mt(typeof O=="boolean",t,"internal-error"),mt(typeof G=="boolean",t,"internal-error"),zs(c,t.name),zs(d,t.name),zs(p,t.name),zs(g,t.name),zs(_,t.name),zs(A,t.name);const lt=new $n({uid:S,auth:t,email:l,emailVerified:O,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:A});return J&&Array.isArray(J)&&(lt.providerData=J.map(yt=>({...yt}))),g&&(lt._redirectEventId=g),lt}static async _fromIdTokenResponse(t,i,r=!1){const l=new Qa;l.updateFromServerResponse(i);const c=new $n({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await th(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?iE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Qa;p.updateFromIdToken(r);const g=new $n({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const hv=new Map;function Ji(s){ts(s instanceof Function,"Expected a class definition");let t=hv.get(s);return t?(ts(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,hv.set(s,t),t)}class sE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}sE.type="NONE";const fv=sE;function zc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ka{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Wc(this.auth,{idToken:t}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ka(Ji(fv),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Ji(fv);const d=zc(r,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const O=await Wc(t,{idToken:A}).catch(()=>{});if(!O)break;S=await $n._fromGetAccountInfoResponse(t,O,A)}else S=$n._fromJSON(t,A);_!==c&&(p=S),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Ka(c,t,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ka(c,t,r))}}function dv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cE(t))return"Blackberry";if(hE(t))return"Webos";if(aE(t))return"Safari";if((t.includes("chrome/")||oE(t))&&!t.includes("edge/"))return"Chrome";if(uE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function rE(s=We()){return/firefox\//i.test(s)}function aE(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oE(s=We()){return/crios\//i.test(s)}function lE(s=We()){return/iemobile/i.test(s)}function uE(s=We()){return/android/i.test(s)}function cE(s=We()){return/blackberry/i.test(s)}function hE(s=We()){return/webos/i.test(s)}function Om(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Lw(s=We()){return Om(s)&&!!window.navigator?.standalone}function zw(){return ZS()&&document.documentMode===10}function fE(s=We()){return Om(s)||uE(s)||hE(s)||cE(s)||/windows phone/i.test(s)||lE(s)}function dE(s,t=[]){let i;switch(s){case"Browser":i=dv(We());break;case"Worker":i=`${dv(We())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${oo}/${r}`}class jw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const g=t(c);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Bw(s,t={}){return sr(s,"GET","/v2/passwordPolicy",ss(s,t))}const qw=6;class Hw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Gw{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mv(this),this.idTokenSubscription=new mv(this),this.beforeStateQueue=new jw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Wc(this,{idToken:t}),r=await $n._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await th(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Aw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fn(this.app))return Promise.reject(Zn(this));const i=t?Ve(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(Zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fn(this.app)?Promise.reject(Zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Bw(this),i=new Hw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=t.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=dE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&vw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function rs(s){return Ve(s)}class mv{constructor(t){this.auth=t,this.observer=null,this.addObserver=rb(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fw(s){ph=s}function mE(s){return ph.loadJS(s)}function Qw(){return ph.recaptchaEnterpriseScript}function Kw(){return ph.gapiScript}function Yw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Xw{constructor(){this.enterprise=new $w}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class $w{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Zw="recaptcha-enterprise",pE="NO_RECAPTCHA";class Jw{constructor(t){this.type=Zw,this.auth=rs(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{Nw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new Cw(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;uv(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(pE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Xw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&uv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Qw();g.length!==0&&(g+=p),mE(g).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function pv(s,t,i,r=!1,l=!1){const c=new Jw(s);let d;if(l)d=pE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function sm(s,t,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await pv(s,t,i,i==="getOobCode");return r(s,c)}else return r(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await pv(s,t,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function Ww(s,t){const i=Cm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Hr(c,t??{}))return l;Wn(l,"already-initialized")}return i.initialize({options:t})}function tR(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function eR(s,t,i){const r=rs(s);mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=gE(t),{host:d,port:p}=nR(t),g=p===null?"":`:${p}`,_={url:`${c}//${d}${g}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){mt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),mt(Hr(_,r.config.emulator)&&Hr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,ao(d)?(H0(`${c}//${d}${g}`),G0("Auth",!0)):iR()}function gE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function nR(s){const t=gE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:gv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:gv(d)}}}function gv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function iR(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Mm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function sR(s,t){return sr(s,"POST","/v1/accounts:signUp",t)}async function rR(s,t){return lo(s,"POST","/v1/accounts:signInWithPassword",ss(s,t))}async function aR(s,t){return lo(s,"POST","/v1/accounts:signInWithEmailLink",ss(s,t))}async function oR(s,t){return lo(s,"POST","/v1/accounts:signInWithEmailLink",ss(s,t))}class Ul extends Mm{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Ul(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Ul(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(t,i,"signInWithPassword",rR);case"emailLink":return aR(t,{email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(t,r,"signUpPassword",sR);case"emailLink":return oR(t,{idToken:i,email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ya(s,t){return lo(s,"POST","/v1/accounts:signInWithIdp",ss(s,t))}const lR="http://localhost";class Fr extends Mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Fr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ya(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:lR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ql(i)}return t}}function uR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cR(s){const t=Al(Sl(s)).link,i=t?Al(Sl(t)).deep_link_id:null,r=Al(Sl(s)).deep_link_id;return(r?Al(Sl(r)).link:null)||r||i||t||s}class Vm{constructor(t){const i=Al(Sl(t)),r=i.apiKey??null,l=i.oobCode??null,c=uR(i.mode??null);mt(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=cR(t);try{return new Vm(i)}catch{return null}}}class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(t,i){return Ul._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Vm.parseLink(i);return mt(r,"argument-error"),Ul._fromEmailAndCode(t,r.code,r.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class yE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yl extends yE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Bs extends Yl{constructor(){super("facebook.com")}static credential(t){return Fr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";class qs extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return qs.credential(i,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Hs extends Yl{constructor(){super("github.com")}static credential(t){return Fr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";class Gs extends Yl{constructor(){super("twitter.com")}static credential(t,i){return Fr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Gs.credential(i,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";async function _E(s,t){return lo(s,"POST","/v1/accounts:signUp",ss(s,t))}class Di{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await $n._fromIdTokenResponse(t,r,l),d=yv(r);return new Di({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=yv(r);return new Di({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function yv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function hR(s){if(fn(s.app))return Promise.reject(Zn(s));const t=rs(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Di({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await _E(t,{returnSecureToken:!0}),r=await Di._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class eh extends is{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new eh(t,i,r,l)}}function vE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(s,c,t,r):c})}async function fR(s,t,i=!1){const r=await kl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Di._forOperation(s,"link",r)}async function dR(s,t,i=!1){const{auth:r}=s;if(fn(r.app))return Promise.reject(Zn(r));const l="reauthenticate";try{const c=await kl(s,vE(r,l,t,s),i);mt(c.idToken,r,"internal-error");const d=xm(c.idToken);mt(d,r,"internal-error");const{sub:p}=d;return mt(s.uid===p,r,"user-mismatch"),Di._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wn(r,"user-mismatch"),c}}async function EE(s,t,i=!1){if(fn(s.app))return Promise.reject(Zn(s));const r="signIn",l=await vE(s,r,t),c=await Di._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function mR(s,t){return EE(rs(s),t)}async function pR(s,t){return lo(s,"POST","/v1/accounts:signInWithCustomToken",ss(s,t))}async function gR(s,t){if(fn(s.app))return Promise.reject(Zn(s));const i=rs(s),r=await pR(i,{token:t,returnSecureToken:!0}),l=await Di._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(l.user),l}async function TE(s){const t=rs(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function yR(s,t,i){if(fn(s.app))return Promise.reject(Zn(s));const r=rs(s),d=await sm(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_E).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&TE(s),g}),p=await Di._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function _R(s,t,i){return fn(s.app)?Promise.reject(Zn(s)):mR(Ve(s),uo.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TE(s),r})}function vR(s,t,i,r){return Ve(s).onIdTokenChanged(t,i,r)}function ER(s,t,i){return Ve(s).beforeAuthStateChanged(t,i)}function TR(s,t,i,r){return Ve(s).onAuthStateChanged(t,i,r)}function AR(s){return Ve(s).signOut()}const nh="__sak";class AE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const SR=1e3,bR=10;class SE extends AE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);zw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,bR):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},SR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}SE.type="LOCAL";const wR=SE;class bE extends AE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}bE.type="SESSION";const wE=bE;function RR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new gh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),g=await RR(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function km(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class IR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const _=km("",20);l.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function CR(s){wi().location.href=s}function RE(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function NR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DR(){return navigator?.serviceWorker?.controller||null}function xR(){return RE()?self:null}const IE="firebaseLocalStorageDb",OR=1,ih="firebaseLocalStorage",CE="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function yh(s,t){return s.transaction([ih],t?"readwrite":"readonly").objectStore(ih)}function MR(){const s=indexedDB.deleteDatabase(IE);return new Xl(s).toPromise()}function rm(){const s=indexedDB.open(IE,OR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ih,{keyPath:CE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ih)?t(r):(r.close(),await MR(),t(await rm()))})})}async function _v(s,t,i){const r=yh(s,!0).put({[CE]:t,value:i});return new Xl(r).toPromise()}async function VR(s,t){const i=yh(s,!1).get(t),r=await new Xl(i).toPromise();return r===void 0?null:r.value}function vv(s,t){const i=yh(s,!0).delete(t);return new Xl(i).toPromise()}const kR=800,UR=3;class NE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>UR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(xR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await NR(),!this.activeServiceWorker)return;this.sender=new IR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||DR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rm();return await _v(t,nh,"1"),await vv(t,nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>_v(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>VR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>vv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=yh(l,!1).getAll();return new Xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NE.type="LOCAL";const PR=NE;new Kl(3e4,6e4);function LR(s,t){return t?Ji(t):(mt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Um extends Mm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function zR(s){return EE(s.auth,new Um(s),s.bypassAuthState)}function jR(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),dR(i,new Um(s),s.bypassAuthState)}async function BR(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),fR(i,new Um(s),s.bypassAuthState)}class DE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zR;case"linkViaPopup":case"linkViaRedirect":return BR;case"reauthViaPopup":case"reauthViaRedirect":return jR;default:Wn(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qR=new Kl(2e3,1e4);class Fa extends DE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,qR.get())};t()}}Fa.currentPopupAction=null;const HR="pendingRedirect",jc=new Map;class GR extends DE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const r=await FR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FR(s,t){const i=YR(t),r=KR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function QR(s,t){jc.set(s._key(),t)}function KR(s){return Ji(s._redirectPersistence)}function YR(s){return zc(HR,s.config.apiKey,s.name)}async function XR(s,t,i=!1){if(fn(s.app))return Promise.reject(Zn(s));const r=rs(s),l=LR(r,t),d=await new GR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const $R=600*1e3;class ZR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!JR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!xE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$R&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ev(t))}saveEventToCache(t){this.cachedEventUids.add(Ev(t)),this.lastProcessedEventTime=Date.now()}}function Ev(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function xE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function JR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xE(s);default:return!1}}async function WR(s,t={}){return sr(s,"GET","/v1/projects",t)}const t2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e2=/^https?/;async function n2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await WR(s);for(const i of t)try{if(i2(i))return}catch{}Wn(s,"unauthorized-domain")}function i2(s){const t=nm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!e2.test(i))return!1;if(t2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const s2=new Kl(3e4,6e4);function Tv(){const s=wi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function r2(s){return new Promise((t,i)=>{function r(){Tv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Tv(),i(bi(s,"network-request-failed"))},timeout:s2.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)r();else{const l=Yw("iframefcb");return wi()[l]=()=>{gapi.load?r():i(bi(s,"network-request-failed"))},mE(`${Kw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Bc=null,t})}let Bc=null;function a2(s){return Bc=Bc||r2(s),Bc}const o2=new Kl(5e3,15e3),l2="__/auth/iframe",u2="emulator/auth/iframe",c2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f2(s){const t=s.config;mt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Dm(t,u2):`https://${s.config.authDomain}/${l2}`,r={apiKey:t.apiKey,appName:s.name,v:oo},l=h2.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Ql(r).slice(1)}`}async function d2(s){const t=await a2(s),i=wi().gapi;return mt(i,s,"internal-error"),t.open({where:document.body,url:f2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c2,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=bi(s,"network-request-failed"),p=wi().setTimeout(()=>{c(d)},o2.get());function g(){wi().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(d)})}))}const m2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p2=500,g2=600,y2="_blank",_2="http://localhost";class Av{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v2(s,t,i,r=p2,l=g2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...m2,width:r.toString(),height:l.toString(),top:c,left:d},_=We().toLowerCase();i&&(p=oE(_)?y2:i),rE(_)&&(t=t||_2,g.scrollbars="yes");const A=Object.entries(g).reduce((O,[G,J])=>`${O}${G}=${J},`,"");if(Lw(_)&&p!=="_self")return E2(t||"",p),new Av(null);const S=window.open(t||"",p,A);mt(S,s,"popup-blocked");try{S.focus()}catch{}return new Av(S)}function E2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const T2="__/auth/handler",A2="emulator/auth/handler",S2=encodeURIComponent("fac");async function Sv(s,t,i,r,l,c){mt(s.config.authDomain,s,"auth-domain-config-required"),mt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:oo,eventId:l};if(t instanceof yE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",sb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Yl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const g=await s._getAppCheckToken(),_=g?`#${S2}=${encodeURIComponent(g)}`:"";return`${b2(s)}?${Ql(p).slice(1)}${_}`}function b2({config:s}){return s.emulator?Dm(s,A2):`https://${s.authDomain}/${T2}`}const Fd="webStorageSupport";class w2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wE,this._completeRedirectFn=XR,this._overrideRedirectResult=QR}async _openPopup(t,i,r,l){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Sv(t,i,r,nm(),l);return v2(t,c,km())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Sv(t,i,r,nm(),l);return CR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ts(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await d2(t),r=new ZR(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Fd,{type:Fd},l=>{const c=l?.[0]?.[Fd];c!==void 0&&i(!!c),Wn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=n2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return fE()||aE()||Om()}}const R2=w2;var bv="@firebase/auth",wv="1.11.1";class I2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function C2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N2(s){Ja(new Gr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dE(s)},_=new Gw(r,l,c,g);return tR(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Ja(new Gr("auth-internal",t=>{const i=rs(t.getProvider("auth").getImmediate());return(r=>new I2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(bv,wv,C2(s)),Ys(bv,wv,"esm2020")}const D2=300,x2=q0("authIdTokenMaxAge")||D2;let Rv=null;const O2=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>x2)return;const l=i?.token;Rv!==l&&(Rv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function M2(s=Y0()){const t=Cm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Ww(s,{popupRedirectResolver:R2,persistence:[PR,wR,wE]}),r=q0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=O2(c.toString());ER(i,d,()=>d(i.currentUser)),vR(i,p=>d(p))}}const l=j0("auth");return l&&eR(i,`http://${l}`),i}function V2(){return document.getElementsByTagName("head")?.[0]??document}Fw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=bi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",V2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N2("Browser");var Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xs,OE;(function(){var s;function t(N,b){function C(){}C.prototype=b.prototype,N.F=b.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,w,k){for(var R=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)R[zt-2]=arguments[zt];return b.prototype[w].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,b,C){C||(C=0);const M=Array(16);if(typeof b=="string")for(var w=0;w<16;++w)M[w]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(w=0;w<16;++w)M[w]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=N.g[0],C=N.g[1],w=N.g[2];let k=N.g[3],R;R=b+(k^C&(w^k))+M[0]+3614090360&4294967295,b=C+(R<<7&4294967295|R>>>25),R=k+(w^b&(C^w))+M[1]+3905402710&4294967295,k=b+(R<<12&4294967295|R>>>20),R=w+(C^k&(b^C))+M[2]+606105819&4294967295,w=k+(R<<17&4294967295|R>>>15),R=C+(b^w&(k^b))+M[3]+3250441966&4294967295,C=w+(R<<22&4294967295|R>>>10),R=b+(k^C&(w^k))+M[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=k+(w^b&(C^w))+M[5]+1200080426&4294967295,k=b+(R<<12&4294967295|R>>>20),R=w+(C^k&(b^C))+M[6]+2821735955&4294967295,w=k+(R<<17&4294967295|R>>>15),R=C+(b^w&(k^b))+M[7]+4249261313&4294967295,C=w+(R<<22&4294967295|R>>>10),R=b+(k^C&(w^k))+M[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=k+(w^b&(C^w))+M[9]+2336552879&4294967295,k=b+(R<<12&4294967295|R>>>20),R=w+(C^k&(b^C))+M[10]+4294925233&4294967295,w=k+(R<<17&4294967295|R>>>15),R=C+(b^w&(k^b))+M[11]+2304563134&4294967295,C=w+(R<<22&4294967295|R>>>10),R=b+(k^C&(w^k))+M[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=k+(w^b&(C^w))+M[13]+4254626195&4294967295,k=b+(R<<12&4294967295|R>>>20),R=w+(C^k&(b^C))+M[14]+2792965006&4294967295,w=k+(R<<17&4294967295|R>>>15),R=C+(b^w&(k^b))+M[15]+1236535329&4294967295,C=w+(R<<22&4294967295|R>>>10),R=b+(w^k&(C^w))+M[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=k+(C^w&(b^C))+M[6]+3225465664&4294967295,k=b+(R<<9&4294967295|R>>>23),R=w+(b^C&(k^b))+M[11]+643717713&4294967295,w=k+(R<<14&4294967295|R>>>18),R=C+(k^b&(w^k))+M[0]+3921069994&4294967295,C=w+(R<<20&4294967295|R>>>12),R=b+(w^k&(C^w))+M[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=k+(C^w&(b^C))+M[10]+38016083&4294967295,k=b+(R<<9&4294967295|R>>>23),R=w+(b^C&(k^b))+M[15]+3634488961&4294967295,w=k+(R<<14&4294967295|R>>>18),R=C+(k^b&(w^k))+M[4]+3889429448&4294967295,C=w+(R<<20&4294967295|R>>>12),R=b+(w^k&(C^w))+M[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=k+(C^w&(b^C))+M[14]+3275163606&4294967295,k=b+(R<<9&4294967295|R>>>23),R=w+(b^C&(k^b))+M[3]+4107603335&4294967295,w=k+(R<<14&4294967295|R>>>18),R=C+(k^b&(w^k))+M[8]+1163531501&4294967295,C=w+(R<<20&4294967295|R>>>12),R=b+(w^k&(C^w))+M[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=k+(C^w&(b^C))+M[2]+4243563512&4294967295,k=b+(R<<9&4294967295|R>>>23),R=w+(b^C&(k^b))+M[7]+1735328473&4294967295,w=k+(R<<14&4294967295|R>>>18),R=C+(k^b&(w^k))+M[12]+2368359562&4294967295,C=w+(R<<20&4294967295|R>>>12),R=b+(C^w^k)+M[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=k+(b^C^w)+M[8]+2272392833&4294967295,k=b+(R<<11&4294967295|R>>>21),R=w+(k^b^C)+M[11]+1839030562&4294967295,w=k+(R<<16&4294967295|R>>>16),R=C+(w^k^b)+M[14]+4259657740&4294967295,C=w+(R<<23&4294967295|R>>>9),R=b+(C^w^k)+M[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=k+(b^C^w)+M[4]+1272893353&4294967295,k=b+(R<<11&4294967295|R>>>21),R=w+(k^b^C)+M[7]+4139469664&4294967295,w=k+(R<<16&4294967295|R>>>16),R=C+(w^k^b)+M[10]+3200236656&4294967295,C=w+(R<<23&4294967295|R>>>9),R=b+(C^w^k)+M[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=k+(b^C^w)+M[0]+3936430074&4294967295,k=b+(R<<11&4294967295|R>>>21),R=w+(k^b^C)+M[3]+3572445317&4294967295,w=k+(R<<16&4294967295|R>>>16),R=C+(w^k^b)+M[6]+76029189&4294967295,C=w+(R<<23&4294967295|R>>>9),R=b+(C^w^k)+M[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=k+(b^C^w)+M[12]+3873151461&4294967295,k=b+(R<<11&4294967295|R>>>21),R=w+(k^b^C)+M[15]+530742520&4294967295,w=k+(R<<16&4294967295|R>>>16),R=C+(w^k^b)+M[2]+3299628645&4294967295,C=w+(R<<23&4294967295|R>>>9),R=b+(w^(C|~k))+M[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=k+(C^(b|~w))+M[7]+1126891415&4294967295,k=b+(R<<10&4294967295|R>>>22),R=w+(b^(k|~C))+M[14]+2878612391&4294967295,w=k+(R<<15&4294967295|R>>>17),R=C+(k^(w|~b))+M[5]+4237533241&4294967295,C=w+(R<<21&4294967295|R>>>11),R=b+(w^(C|~k))+M[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=k+(C^(b|~w))+M[3]+2399980690&4294967295,k=b+(R<<10&4294967295|R>>>22),R=w+(b^(k|~C))+M[10]+4293915773&4294967295,w=k+(R<<15&4294967295|R>>>17),R=C+(k^(w|~b))+M[1]+2240044497&4294967295,C=w+(R<<21&4294967295|R>>>11),R=b+(w^(C|~k))+M[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=k+(C^(b|~w))+M[15]+4264355552&4294967295,k=b+(R<<10&4294967295|R>>>22),R=w+(b^(k|~C))+M[6]+2734768916&4294967295,w=k+(R<<15&4294967295|R>>>17),R=C+(k^(w|~b))+M[13]+1309151649&4294967295,C=w+(R<<21&4294967295|R>>>11),R=b+(w^(C|~k))+M[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=k+(C^(b|~w))+M[11]+3174756917&4294967295,k=b+(R<<10&4294967295|R>>>22),R=w+(b^(k|~C))+M[2]+718787259&4294967295,w=k+(R<<15&4294967295|R>>>17),R=C+(k^(w|~b))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(w+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+w&4294967295,N.g[3]=N.g[3]+k&4294967295}r.prototype.v=function(N,b){b===void 0&&(b=N.length);const C=b-this.blockSize,M=this.C;let w=this.h,k=0;for(;k<b;){if(w==0)for(;k<=C;)l(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<b;)if(M[w++]=N.charCodeAt(k++),w==this.blockSize){l(this,M),w=0;break}}else for(;k<b;)if(M[w++]=N[k++],w==this.blockSize){l(this,M),w=0;break}}this.h=w,this.o+=b},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[b++]=this.g[C]>>>M&255;return N};function c(N,b){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=b(N)}function d(N,b){this.h=b;const C=[];let M=!0;for(let w=N.length-1;w>=0;w--){const k=N[w]|0;M&&k==b||(C[w]=k,M=!1)}this.g=C}var p={};function g(N){return-128<=N&&N<128?c(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return Z(_(-N));const b=[];let C=1;for(let M=0;N>=C;M++)b[M]=N/C|0,C*=4294967296;return new d(b,0)}function A(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return Z(A(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(b,8));let M=S;for(let k=0;k<N.length;k+=8){var w=Math.min(8,N.length-k);const R=parseInt(N.substring(k,k+w),b);w<8?(w=_(Math.pow(b,w)),M=M.j(w).add(_(R))):(M=M.j(C),M=M.add(_(R)))}return M}var S=g(0),O=g(1),G=g(16777216);s=d.prototype,s.m=function(){if(W(this))return-Z(this).m();let N=0,b=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*b,b*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(W(this))return"-"+Z(this).toString(N);const b=_(Math.pow(N,6));var C=this;let M="";for(;;){const w=Ht(C,b).g;C=lt(C,w.j(b));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=w,J(C))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function W(N){return N.h==-1}s.l=function(N){return N=lt(this,N),W(N)?-1:J(N)?0:1};function Z(N){const b=N.g.length,C=[];for(let M=0;M<b;M++)C[M]=~N.g[M];return new d(C,~N.h).add(O)}s.abs=function(){return W(this)?Z(this):this},s.add=function(N){const b=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let w=0;w<=b;w++){let k=M+(this.i(w)&65535)+(N.i(w)&65535),R=(k>>>16)+(this.i(w)>>>16)+(N.i(w)>>>16);M=R>>>16,k&=65535,R&=65535,C[w]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function lt(N,b){return N.add(Z(b))}s.j=function(N){if(J(this)||J(N))return S;if(W(this))return W(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(W(N))return Z(this.j(Z(N)));if(this.l(G)<0&&N.l(G)<0)return _(this.m()*N.m());const b=this.g.length+N.g.length,C=[];for(var M=0;M<2*b;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let w=0;w<N.g.length;w++){const k=this.i(M)>>>16,R=this.i(M)&65535,zt=N.i(w)>>>16,ue=N.i(w)&65535;C[2*M+2*w]+=R*ue,yt(C,2*M+2*w),C[2*M+2*w+1]+=k*ue,yt(C,2*M+2*w+1),C[2*M+2*w+1]+=R*zt,yt(C,2*M+2*w+1),C[2*M+2*w+2]+=k*zt,yt(C,2*M+2*w+2)}for(N=0;N<b;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=b;N<2*b;N++)C[N]=0;return new d(C,0)};function yt(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function dt(N,b){this.g=N,this.h=b}function Ht(N,b){if(J(b))throw Error("division by zero");if(J(N))return new dt(S,S);if(W(N))return b=Ht(Z(N),b),new dt(Z(b.g),Z(b.h));if(W(b))return b=Ht(N,Z(b)),new dt(Z(b.g),b.h);if(N.g.length>30){if(W(N)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var C=O,M=b;M.l(N)<=0;)C=Wt(C),M=Wt(M);var w=Ot(C,1),k=Ot(M,1);for(M=Ot(M,2),C=Ot(C,2);!J(M);){var R=k.add(M);R.l(N)<=0&&(w=w.add(C),k=R),M=Ot(M,1),C=Ot(C,1)}return b=lt(N,w.j(b)),new dt(w,b)}for(w=S;N.l(b)>=0;){for(C=Math.max(1,Math.floor(N.m()/b.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(C),R=k.j(b);W(R)||R.l(N)>0;)C-=M,k=_(C),R=k.j(b);J(k)&&(k=O),w=w.add(k),N=lt(N,R)}return new dt(w,N)}s.B=function(N){return Ht(this,N).h},s.and=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)&N.i(M);return new d(C,this.h&N.h)},s.or=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)|N.i(M);return new d(C,this.h|N.h)},s.xor=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)^N.i(M);return new d(C,this.h^N.h)};function Wt(N){const b=N.g.length+1,C=[];for(let M=0;M<b;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(C,N.h)}function Ot(N,b){const C=b>>5;b%=32;const M=N.g.length-C,w=[];for(let k=0;k<M;k++)w[k]=b>0?N.i(k+C)>>>b|N.i(k+C+1)<<32-b:N.i(k+C);return new d(w,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,OE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Xs=d}).apply(typeof Iv<"u"?Iv:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ME,bl,VE,qc,am,kE,UE,PE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,B){for(var tt=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)tt[Tt-2]=arguments[Tt];return m.prototype[P].apply(T,tt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const B=P.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=P[tt]}else u.push(P)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function lt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new W(()=>new Ht,u=>u.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Ot=!1,N=new yt,b=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(C)}};function C(){for(var u;u=lt();){try{u.h.call(u.g)}catch(v){Z(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function zt(u,m){w.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(zt,w),zt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&zt.Z.h.call(this)},zt.prototype.h=function(){zt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=St(u,m,T,P);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,P),m.fa=v,u.push(m)),m};function gt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(T,P,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return P}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),De={};function re(u,m,v,T,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,P);return null}return v=_o(v),u&&u[ue]?u.J(m,v,p(T)?!!T.capture:!1,P):or(u,m,v,!1,T,P)}function or(u,m,v,T,P,B){if(!m)throw Error("Invalid event type");const tt=p(P)?!!P.capture:!!P;let Tt=lr(u);if(Tt||(u[Vt]=Tt=new rt(u)),v=Tt.add(m,v,T,tt,B),v.proxy)return v;if(T=Zr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(P=tt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(ei(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zr(){function u(v){return m.call(u.src,u.listener,v)}const m=go;return u}function Jr(u,m,v,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)Jr(u,m[B],v,T,P);else T=p(T)?!!T.capture:!!T,v=_o(v),u&&u[ue]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,P),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=lr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,P)),(v=u>-1?m[u]:null)&&Wr(v))}function Wr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])gt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ei(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=lr(m))?(gt(v,u),v.h==0&&(v.src=null,m[Vt]=null)):ht(u)}}}function ei(u){return u in De?De[u]:De[u]="on"+u}function go(u,m){if(u.da)u=!0;else{m=new zt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Wr(u),u=v.call(T,m)}return u}function lr(u){return u=u[Vt],u instanceof rt?u:null}var yo="__closure_events_fn_"+(Math.random()*1e9>>>0);function _o(u){return typeof u=="function"?u:(u[yo]||(u[yo]=function(m){return u.handleEvent(m)}),u[yo])}function ye(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(ye,M),ye.prototype[ue]=!0,ye.prototype.removeEventListener=function(u,m,v,T){Jr(this,u,m,v,T)};function xe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new w(m,u);else if(m instanceof w)m.target=m.target||u;else{var P=m;m=new w(T,u),nt(m,P)}P=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],P=as(B,T,!0,m)&&P;if(B=m.g=u,P=as(B,T,!0,m)&&P,P=as(B,T,!1,m)&&P,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],P=as(B,T,!1,m)&&P}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ye.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function as(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Tt=tt.listener,de=tt.ha||tt.src;tt.fa&&gt(u.i,tt),P=Tt.call(de,T)!==!1&&P}}return P&&!T.defaultPrevented}function Vh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function nu(u){u.g=Vh(()=>{u.g=null,u.i&&(u.i=!1,nu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){M.call(this),this.h=u,this.g={}}S(ur,M);var vo=[];function Eo(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&Wr(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),Eo(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=d.JSON.stringify,kh=d.JSON.parse,iu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function su(){}function ru(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){w.call(this,"d")}S(je,w);function bn(){w.call(this,"c")}S(bn,w);var fe={},au=null;function ta(){return au=au||new ye}fe.Ia="serverreachability";function ou(u){w.call(this,fe.Ia,u)}S(ou,w);function ni(u){const m=ta();xe(m,new ou(m))}fe.STAT_EVENT="statevent";function cr(u,m){w.call(this,fe.STAT_EVENT,u),this.stat=m}S(cr,w);function _e(u){const m=ta();xe(m,new cr(m,u))}fe.Ja="timingevent";function ii(u,m){w.call(this,fe.Ja,u),this.size=m}S(ii,w);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Uh(u,m,v,T,P,B){u.info(function(){if(u.g)if(B){var tt="",Tt=B.split("&");for(let jt=0;jt<Tt.length;jt++){var de=Tt[jt].split("=");if(de.length>1){const ae=de[0];de=de[1];const Cn=ae.split("_");tt=Cn.length>=2&&Cn[1]=="type"?tt+(ae+"="+de+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+tt})}function lu(u,m,v,T,P,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+tt})}function ri(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(T?" "+T:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return os(B)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function dr(){}S(dr,su),dr.prototype.g=function(){return new XMLHttpRequest},Ao=new dr;function Oi(u){return encodeURIComponent(String(u))}function uu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var ve={},Ue={};function ai(u,m,v){u.M=1,u.A=mr(Te(m)),u.u=v,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),oi(u),u.B=Te(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ra(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Bn,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(vo[0]=P.toString()),P=vo);for(let B=0;B<P.length;B++){const tt=re(v,P[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ni(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Gn(this.g),de=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Tt!=4||de==7||(de==8||jt<=0?ni(3):ni(2)),li(this);var m=this.g.ca();this.X=m;var v=Lh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,u);else{this.o=!1,this.m=3,_e(12),mn(this),wn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=hu(this,v),ae==Ue){Tt==4&&(this.m=4,_e(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,ae,null),ui(this,ae);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(tt),tt.P=!0,_e(11))}}else ri(this.i,this.l,v,null),ui(this,v);Tt==4&&mn(this),this.o&&!this.K&&(Tt==4?Eu(this.j,this):(this.o=!1,oi(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),mn(this),wn(this)}}}catch{}finally{}};function Lh(u){if(!cu(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const T=m.length,P=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(P&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function cu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ue:(v=Number(m.substring(v,T)),isNaN(v)?ve:(T+=1,T+v>m.length?Ue:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,mn(this)};function oi(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(_(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(ni(),_e(17)),mn(this),this.m=2,wn(this)):na(this,this.T-u)};function wn(u){u.j.I==0||u.K||Eu(u.j,u)}function mn(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Eo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ui(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||hi(v.h,u))){if(!u.L&&hi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ca(v),ps(v);else break t;Tr(v),_e(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(_(v.Va,v),6e3));ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else yi(v,11)}else if((u.L||v.g==u)&&ca(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let jt=P[m];const ae=jt[0];if(!(ae<=v.K))if(v.K=ae,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const Cn=jt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const _i=jt[4];_i!=null&&(v.za=_i,v.j.info("SVER="+v.za));const Fn=jt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Qn=u.g;if(Qn){const Ar=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var B=T.h;B.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(wo(B,B.h),B.h=null))}if(T.G){const ha=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(T.wa=ha,Qt(T.J,T.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=Su(T,T.L?T.ba:null,T.W),tt.L){Ro(T.h,tt);var Tt=tt,de=T.O;de&&(Tt.H=de),Tt.D&&(li(Tt),oi(Tt)),T.g=tt}else _u(T);v.i.length>0&&gi(v)}else jt[0]!="stop"&&jt[0]!="close"||yi(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?yi(v,7):ko(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}ni(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function So(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ci(u){return u.h?1:u.g?u.g.size:0}function hi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wo(u,m){u.g?u.g.add(m):u.h=m}function Ro(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}So.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Io(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,B=null;T>=0?(P=u[v].substring(0,T),B=u[v].substring(T+1)):P=u[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Pe(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.u),this.h=u.h,Co(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(fu))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),ls(this,m[4]),this.h=fi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(pr(m,sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pr(m,sa,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(pr(v,v.charAt(0)=="/"?No:du,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",pr(v,mu)),u.join("")},pn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?Pe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ls(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let tt=0;tt<P.length;){const Tt=P[tt++];Tt=="."?T&&tt==P.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==P.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Co(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new pn(u)}function Pe(u,m,v){u.j=v?fi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof cs?(u.i=m,aa(u.i,u.l)):(v||(m=pr(m,us)),u.i=new cs(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function mr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function fi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sa=/[#\/\?@]/g,du=/[#\?:]/g,No=/[#\?]/g,us=/[#\?@]/g,mu=/#/g;function cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=cs.prototype,s.add=function(u,m){rn(this),this.i=null,u=hs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function pu(u,m){rn(u),m=hs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Do(u,m){return rn(u),m=hs(u,m),u.g.has(m)}s.forEach=function(u,m){rn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function xo(u,m){rn(u);let v=[];if(typeof m=="string")Do(u,m)&&(v=v.concat(u.g.get(hs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return rn(this),this.i=null,u=hs(this,u),Do(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=xo(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){pu(u,m),v.length>0&&(u.i=null,u.g.set(hs(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Oi(v);v=xo(this,v);for(let B=0;B<v.length;B++){let tt=P;v[B]!==""&&(tt+="="+Oi(v[B])),u.push(tt)}}return this.i=u.join("&")};function gu(u){const m=new cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function hs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(pu(this,T),ra(this,P,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=A(Rn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Rn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Rn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Rn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Oo(u,m){const v=new zn,T=new AbortController,P=setTimeout(()=>{T.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function fs(){this.g=new iu}function di(u){this.i=u.Sb||null,this.h=u.ab||!1}S(di,su),di.prototype.g=function(){return new gr(this.i,this.h)};function gr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(gr,ye),s=gr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ds(this):Hn(this),this.readyState==3&&oa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ds(this))},s.Na=function(u){this.g&&(this.response=u,ds(this))},s.ga=function(){this.g&&ds(this)};function ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return Ut(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function yr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=In(v),typeof u=="string"?v!=null&&Oi(v):Qt(u,m,v))}function Xt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,ye);var mi=/^https?$/i,Mo=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){_r(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Mo,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){_r(this,B)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vo(u),Mi(u)}function Vo(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),Mi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},s.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(fu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!mi.test(tt?tt.toLowerCase():"")}v=T}if(v)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var P=Gn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Vo(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),kh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=uu(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}Ft(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ms(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new So(u&&u.concurrentRequestLimit),this.Ba=new fs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ms.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){_e(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Su(this,null,this.W),gi(this)};function ko(u){if(la(u),u.I==3){var m=u.V++,v=Te(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),Er(u,v),m=new jn(u,u.j,m),m.M=2,m.A=mr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),oi(m)}Au(u)}function ps(u){u.g&&(Po(u),u.g.cancel(),u.g=null)}function la(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||b(),Ot||(Wt(),Ot=!0),N.add(m,u),u.D=0}}function ua(u,m){return ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(_(u.Ea,u,m),Tu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=yu(this,P,m),v=Te(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Er(this,v),B&&(this.R?m="headers="+Oi(In(B))+"&"+m:this.u&&yr(v,this.u,B)),wo(this.h,P),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),P.U=!0,ai(P,v,null)):ai(P,v,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||bo(this.h)||Uo(this))};function Uo(u,m){var v;m?v=m.l:v=u.V++;const T=Te(u.J);Qt(T,"SID",u.M),Qt(T,"RID",v),Qt(T,"AID",u.K),Er(u,T),u.u&&u.o&&yr(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wo(u.h,v),ai(v,T,m)}function Er(u,m){u.H&&Ut(u.H,function(v,T){Qt(m,T,v)}),u.l&&Ut({},function(v,T){Qt(m,T,v)})}function yu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let Tt=-1;for(;;){const de=["count="+v];Tt==-1?v>0?(Tt=P[0].g,de.push("ofs="+Tt)):Tt=0:de.push("ofs="+Tt);let jt=!0;for(let ae=0;ae<v;ae++){var B=P[ae].g;const Cn=P[ae].map;if(B-=Tt,B<0)Tt=Math.max(0,P[ae].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var tt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[_i,Fn]of tt){let Qn=Fn;p(Fn)&&(Qn=os(Fn)),de.push(B+_i+"="+encodeURIComponent(Qn))}}catch(_i){throw de.push(B+"type="+encodeURIComponent("_badmap")),_i}}catch{T&&T(Cn)}}if(jt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function _u(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||b(),Ot||(Wt(),Ot=!0),N.add(m,u),u.A=0}}function Tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(_(u.Da,u),Tu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ps(this),vu(this))};function Po(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function vu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=mr(Te(m)),v.u=null,v.R=!0,ea(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ps(this),Tr(this),_e(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Eu(u,m){var v=null;if(u.g==m){ca(u),Po(u),u.g=null;var T=2}else if(hi(u.h,m))v=m.G,Ro(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=ta(),xe(T,new ii(T,v)),gi(u)}else _u(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ua(u,m)||T==2&&Tr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function Tu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(T,"https"),mr(T),P?qn(T.toString(),v):Oo(T.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),Au(u),la(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Au(u){if(u.I=0,u.ja=[],u.l){const m=Io(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Su(u,m,v){var T=v instanceof pn?Te(v):new pn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ls(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new pn(null);T&&Pe(B,T),m&&(B.g=m),P&&ls(B,P),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Qt(T,v,m),Qt(T,"VER",u.ka),Er(u,T),T}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new di({ab:v})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ye.call(this),this.g=new ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}S(en,ye),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){ko(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=os(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&gi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,en.Z.N.call(this)};function Ru(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Ru,je);function Iu(){bn.call(this),this.status=1}S(Iu,bn);function ki(u){this.g=u}S(ki,wu),ki.prototype.ra=function(){xe(this.g,"a")},ki.prototype.qa=function(u){xe(this.g,new Ru(u))},ki.prototype.pa=function(u){xe(this.g,new Iu)},ki.prototype.oa=function(){xe(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,PE=function(){return new gs},UE=function(){return ta()},kE=fe,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,qc=fr,To.COMPLETE="complete",VE=To,ru.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ye.prototype.listen=ye.prototype.J,bl=ru,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,ME=Xt}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const Cv="@firebase/firestore",Nv="4.9.2";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let co="12.3.0";const Qr=new Rm("@firebase/firestore");function Ba(){return Qr.logLevel}function st(s,...t){if(Qr.logLevel<=Nt.DEBUG){const i=t.map(Pm);Qr.debug(`Firestore (${co}): ${s}`,...i)}}function es(s,...t){if(Qr.logLevel<=Nt.ERROR){const i=t.map(Pm);Qr.error(`Firestore (${co}): ${s}`,...i)}}function Wa(s,...t){if(Qr.logLevel<=Nt.WARN){const i=t.map(Pm);Qr.warn(`Firestore (${co}): ${s}`,...i)}}function Pm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function pt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,LE(s,r,i)}function LE(s,t,i){let r=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw es(r),new Error(r)}function Gt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||LE(t,l,r)}function Et(s,t){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class zE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class k2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class U2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class P2{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let c=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Br,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Br)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new zE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class L2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new L2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Dv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const r=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Dv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Dv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function B2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Lm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=B2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Dt(s,t){return s<t?-1:s>t?1:0}function om(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Qd(l)===Qd(c)?Dt(l,c):Qd(l)?1:-1}return Dt(s.length,t.length)}const q2=55296,H2=57343;function Qd(s){const t=s.charCodeAt(0);return t>=q2&&t<=H2}function to(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const xv="__name__";class Si{constructor(t,i,r){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&pt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Si.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const r=Si.isNumericId(t),l=Si.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):om(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xs.fromString(t.substring(4,t.length-2))}}class ee extends Si{construct(t,i,r){return new ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new it(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const G2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Si{construct(t,i,r){return new Ke(t,i,r)}static isValidIdentifier(t){return G2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xv}static keyField(){return new Ke([xv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new it(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new it(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(i)}static emptyPath(){return new Ke([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ee.fromString(t))}static fromName(t){return new ct(ee.fromString(t).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ee(t.slice()))}}function jE(s,t,i){if(!i)throw new it(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function F2(s,t,i,r){if(t===!0&&r===!0)throw new it(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ov(s){if(!ct.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Mv(s){if(ct.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function BE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function _h(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function $s(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new it(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_h(s);throw new it(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ce(s,t){const i={typeString:s};return t&&(i.value=t),i}function $l(s,t){if(!BE(s))throw new it(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new it(X.INVALID_ARGUMENT,i);return!0}const Vv=-62135596800,kv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*kv);return new se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Vv)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($l(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new se(0,0))}static max(){return new _t(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pl=-1;function Q2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new Js(l,ct.empty(),t)}function K2(s){return new Js(s.readTime,s.key,Pl)}class Js{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Js(_t.min(),ct.empty(),Pl)}static max(){return new Js(_t.max(),ct.empty(),Pl)}}function Y2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,t.documentKey),i!==0?i:Dt(s.largestBatchId,t.largestBatchId))}const X2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ho(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==X2)throw s;st("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,r)=>{i(t)}))}static reject(t){return new $(((i,r)=>{r(t)}))}static waitFor(t){return new $(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(g=>r(g)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const r of t)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new $(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;i(t[_]).next((A=>{d[_]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function Z2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fo(s){return s.name==="IndexedDbTransactionError"}class vh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vh.ce=-1;const zm=-1;function Eh(s){return s==null}function sh(s){return s===0&&1/s==-1/0}function J2(s){return typeof s=="number"&&Number.isInteger(s)&&!sh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const qE="";function W2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Uv(t)),t=tI(s.get(i),t);return Uv(t)}function tI(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case qE:i+="";break;default:i+=c}}return i}function Uv(s){return s+qE+""}function Pv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function rr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function HE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mc(this.root,t,this.comparator,!0)}}class Mc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Qe.RED,this.left=l??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Qe(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Lv(this.data.getIterator())}getIteratorFrom(t){return new Lv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Lv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Me(Ke.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class GE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new GE("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const eI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const i=eI.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function tr(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const FE="server_timestamp",QE="__type__",KE="__previous_value__",YE="__local_write_time__";function jm(s){return(s?.mapValue?.fields||{})[QE]?.stringValue===FE}function Th(s){const t=s.mapValue.fields[KE];return jm(t)?Th(t):t}function Ll(s){const t=Ws(s.mapValue.fields[YE].timestampValue);return new se(t.seconds,t.nanos)}class nI{constructor(t,i,r,l,c,d,p,g,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=A}}const rh="(default)";class zl{constructor(t,i){this.projectId=t,this.database=i||rh}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}const XE="__type__",iI="__max__",Vc={mapValue:{}},$E="__vector__",ah="value";function er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?jm(s)?4:rI(s)?9007199254740991:sI(s)?10:11:pt(28295,{value:s})}function xi(s,t){if(s===t)return!0;const i=er(s);if(i!==er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ll(s).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ws(l.timestampValue),p=Ws(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return tr(l.bytesValue).isEqual(tr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?sh(d)===sh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return to(s.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Pv(d)!==Pv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!xi(d[g],p[g])))return!1;return!0})(s,t);default:return pt(52216,{left:s})}}function jl(s,t){return(s.values||[]).find((i=>xi(i,t)))!==void 0}function eo(s,t){if(s===t)return 0;const i=er(s),r=er(t);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),g=ge(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,t);case 3:return zv(s.timestampValue,t.timestampValue);case 4:return zv(Ll(s),Ll(t));case 5:return om(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=tr(c),g=tr(d);return p.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const A=Dt(p[_],g[_]);if(A!==0)return A}return Dt(p.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Dt(ge(c.latitude),ge(d.latitude));return p!==0?p:Dt(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return jv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},_=p[ah]?.arrayValue,A=g[ah]?.arrayValue,S=Dt(_?.values?.length||0,A?.values?.length||0);return S!==0?S:jv(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Vc.mapValue&&d===Vc.mapValue)return 0;if(c===Vc.mapValue)return 1;if(d===Vc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=d.fields||{},A=Object.keys(_);g.sort(),A.sort();for(let S=0;S<g.length&&S<A.length;++S){const O=om(g[S],A[S]);if(O!==0)return O;const G=eo(p[g[S]],_[A[S]]);if(G!==0)return G}return Dt(g.length,A.length)})(s.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function zv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Dt(s,t);const i=Ws(s),r=Ws(t),l=Dt(i.seconds,r.seconds);return l!==0?l:Dt(i.nanos,r.nanos)}function jv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=eo(i[l],r[l]);if(c)return c}return Dt(i.length,r.length)}function no(s){return lm(s)}function lm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ws(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return tr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=lm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${lm(i.fields[d])}`;return l+"}"})(s.mapValue):pt(61005,{value:s})}function Hc(s){switch(er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(s);return t?16+Hc(t):16;case 5:return 2*s.stringValue.length;case 6:return tr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Hc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return rr(r.fields,((c,d)=>{l+=c.length+Hc(d)})),l})(s.mapValue);default:throw pt(13486,{value:s})}}function Bv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function um(s){return!!s&&"integerValue"in s}function Bm(s){return!!s&&"arrayValue"in s}function qv(s){return!!s&&"nullValue"in s}function Hv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gc(s){return!!s&&"mapValue"in s}function sI(s){return(s?.mapValue?.fields||{})[XE]?.stringValue===$E}function Dl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return rr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Dl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Dl(s.arrayValue.values[i]);return t}return{...s}}function rI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===iI}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Gc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(i)}setAll(t){let i=Ke.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Dl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){rr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new dn(Dl(this.value))}}function ZE(s){const t=[];return rr(s.fields,((i,r)=>{const l=new Ke([i]);if(Gc(r)){const c=ZE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class Je{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),dn.empty(),0)}static newFoundDocument(t,i,r,l){return new Je(t,1,i,_t.min(),r,l,0)}static newNoDocument(t,i){return new Je(t,2,i,_t.min(),_t.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,_t.min(),_t.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(t,i){this.position=t,this.inclusive=i}}function Gv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=eo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!xi(s.position[i],t.position[i]))return!1;return!0}class Bl{constructor(t,i="asc"){this.field=t,this.dir=i}}function aI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class JE{}class Ie extends JE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new lI(t,i,r):i==="array-contains"?new hI(t,r):i==="in"?new fI(t,r):i==="not-in"?new dI(t,r):i==="array-contains-any"?new mI(t,r):new Ie(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new uI(t,r):new cI(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(eo(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison(eo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends JE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ti(t,i)}matches(t){return WE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WE(s){return s.op==="and"}function tT(s){return oI(s)&&WE(s)}function oI(s){for(const t of s.filters)if(t instanceof ti)return!1;return!0}function cm(s){if(s instanceof Ie)return s.field.canonicalString()+s.op.toString()+no(s.value);if(tT(s))return s.filters.map((t=>cm(t))).join(",");{const t=s.filters.map((i=>cm(i))).join(",");return`${s.op}(${t})`}}function eT(s,t){return s instanceof Ie?(function(r,l){return l instanceof Ie&&r.op===l.op&&r.field.isEqual(l.field)&&xi(r.value,l.value)})(s,t):s instanceof ti?(function(r,l){return l instanceof ti&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&eT(d,l.filters[p])),!0):!1})(s,t):void pt(19439)}function nT(s){return s instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${no(i.value)}`})(s):s instanceof ti?(function(i){return i.op.toString()+" {"+i.getFilters().map(nT).join(" ,")+"}"})(s):"Filter"}class lI extends Ie{constructor(t,i,r){super(t,i,r),this.key=ct.fromName(r.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class uI extends Ie{constructor(t,i){super(t,"in",i),this.keys=iT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class cI extends Ie{constructor(t,i){super(t,"not-in",i),this.keys=iT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function iT(s,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class hI extends Ie{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Bm(i)&&jl(i.arrayValue,this.value)}}class fI extends Ie{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class dI extends Ie{constructor(t,i){super(t,"not-in",i)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jl(this.value.arrayValue,i)}}class mI extends Ie{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>jl(this.value.arrayValue,r)))}}class pI{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Qv(s,t=null,i=[],r=[],l=null,c=null,d=null){return new pI(s,t,i,r,l,c,d)}function qm(s){const t=Et(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>cm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Eh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>no(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>no(r))).join(",")),t.Te=i}return t.Te}function Hm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!aI(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!eT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Fv(s.startAt,t.startAt)&&Fv(s.endAt,t.endAt)}function hm(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class mo{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gI(s,t,i,r,l,c,d,p){return new mo(s,t,i,r,l,c,d,p)}function Gm(s){return new mo(s)}function Kv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function sT(s){return s.collectionGroup!==null}function xl(s){const t=Et(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ke.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Bl(c,r))})),i.has(Ke.keyField().canonicalString())||t.Ie.push(new Bl(Ke.keyField(),r))}return t.Ie}function Ri(s){const t=Et(s);return t.Ee||(t.Ee=yI(t,xl(s))),t.Ee}function yI(s,t){if(s.limitType==="F")return Qv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Bl(l.field,c)}));const i=s.endAt?new oh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new oh(s.startAt.position,s.startAt.inclusive):null;return Qv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function fm(s,t){const i=s.filters.concat([t]);return new mo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function dm(s,t,i){return new mo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Ah(s,t){return Hm(Ri(s),Ri(t))&&s.limitType===t.limitType}function rT(s){return`${qm(Ri(s))}|lt:${s.limitType}`}function qa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>nT(l))).join(", ")}]`),Eh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>no(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>no(l))).join(",")),`Target(${r})`})(Ri(s))}; limitType=${s.limitType})`}function Sh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ct.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of xl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const _=Gv(d,p,g);return d.inclusive?_<=0:_<0})(r.startAt,xl(r),l)||r.endAt&&!(function(d,p,g){const _=Gv(d,p,g);return d.inclusive?_>=0:_>0})(r.endAt,xl(r),l))})(s,t)}function _I(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function aT(s){return(t,i)=>{let r=!1;for(const l of xl(s)){const c=vI(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function vI(s,t,i){const r=s.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,p){const g=d.data.field(c),_=p.data.field(c);return g!==null&&_!==null?eo(g,_):pt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:s.dir})}}class Yr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){rr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return HE(this.inner)}size(){return this.innerSize}}const EI=new le(ct.comparator);function ns(){return EI}const oT=new le(ct.comparator);function wl(...s){let t=oT;for(const i of s)t=t.insert(i.key,i);return t}function lT(s){let t=oT;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function jr(){return Ol()}function uT(){return Ol()}function Ol(){return new Yr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const TI=new le(ct.comparator),AI=new Me(ct.comparator);function xt(...s){let t=AI;for(const i of s)t=t.add(i);return t}const SI=new Me(Dt);function bI(){return SI}function Fm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(t)?"-0":t}}function cT(s){return{integerValue:""+s}}function wI(s,t){return J2(t)?cT(t):Fm(s,t)}class bh{constructor(){this._=void 0}}function RI(s,t,i){return s instanceof ql?(function(l,c){const d={fields:{[QE]:{stringValue:FE},[YE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&jm(c)&&(c=Th(c)),c&&(d.fields[KE]=c),{mapValue:d}})(i,t):s instanceof Hl?fT(s,t):s instanceof Gl?dT(s,t):(function(l,c){const d=hT(l,c),p=Yv(d)+Yv(l.Ae);return um(d)&&um(l.Ae)?cT(p):Fm(l.serializer,p)})(s,t)}function II(s,t,i){return s instanceof Hl?fT(s,t):s instanceof Gl?dT(s,t):i}function hT(s,t){return s instanceof lh?(function(r){return um(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class ql extends bh{}class Hl extends bh{constructor(t){super(),this.elements=t}}function fT(s,t){const i=mT(t);for(const r of s.elements)i.some((l=>xi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Gl extends bh{constructor(t){super(),this.elements=t}}function dT(s,t){let i=mT(t);for(const r of s.elements)i=i.filter((l=>!xi(l,r)));return{arrayValue:{values:i}}}class lh extends bh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Yv(s){return ge(s.integerValue||s.doubleValue)}function mT(s){return Bm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class CI{constructor(t,i){this.field=t,this.transform=i}}function NI(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Hl&&l instanceof Hl||r instanceof Gl&&l instanceof Gl?to(r.elements,l.elements,xi):r instanceof lh&&l instanceof lh?xi(r.Ae,l.Ae):r instanceof ql&&l instanceof ql})(s.transform,t.transform)}class DI{constructor(t,i){this.version=t,this.transformResults=i}}class Jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class wh{}function pT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Qm(s.key,Jn.none()):new Zl(s.key,s.data,Jn.none());{const i=s.data,r=dn.empty();let l=new Me(Ke.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new ar(s.key,r,new Sn(l.toArray()),Jn.none())}}function xI(s,t,i){s instanceof Zl?(function(l,c,d){const p=l.value.clone(),g=$v(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof ar?(function(l,c,d){if(!Fc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=$v(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(gT(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ml(s,t,i,r){return s instanceof Zl?(function(c,d,p,g){if(!Fc(c.precondition,d))return p;const _=c.value.clone(),A=Zv(c.fieldTransforms,g,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof ar?(function(c,d,p,g){if(!Fc(c.precondition,d))return p;const _=Zv(c.fieldTransforms,g,d),A=d.data;return A.setAll(gT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,r):(function(c,d,p){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function OI(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=hT(r.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(r.field,c))}return i||null}function Xv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&to(r,l,((c,d)=>NI(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Zl extends wh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ar extends wh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function gT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function $v(s,t,i){const r=new Map;Gt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,II(d,p,i[l]))}return r}function Zv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,RI(c,d,t))}return r}class Qm extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MI extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VI{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&xI(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Ml(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Ml(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=uT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const g=pT(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),xt())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((i,r)=>Xv(i,r)))&&to(this.baseMutations,t.baseMutations,((i,r)=>Xv(i,r)))}}class Km{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return TI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Km(t,i,r,l)}}class kI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,kt;function PI(s){switch(s){case X.OK:return pt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function yT(s){if(s===void 0)return es("GRPC error has no .code"),X.UNKNOWN;switch(s){case Re.OK:return X.OK;case Re.CANCELLED:return X.CANCELLED;case Re.UNKNOWN:return X.UNKNOWN;case Re.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Re.INTERNAL:return X.INTERNAL;case Re.UNAVAILABLE:return X.UNAVAILABLE;case Re.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Re.NOT_FOUND:return X.NOT_FOUND;case Re.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Re.ABORTED:return X.ABORTED;case Re.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Re.DATA_LOSS:return X.DATA_LOSS;default:return pt(39323,{code:s})}}(kt=Re||(Re={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function LI(){return new TextEncoder}const zI=new Xs([4294967295,4294967295],0);function Jv(s){const t=LI().encode(s),i=new OE;return i.update(t),new Uint8Array(i.digest())}function Wv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Xs([i,r],0),new Xs([l,c],0)]}class Ym{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Xs.fromNumber(r)));return l.compare(zI)===1&&(l=new Xs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Jv(t),[r,l]=Wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Ym(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Jv(t),[r,l]=Wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Rh(_t.min(),l,new le(Dt),ns(),xt())}}class Jl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Jl(r,i,xt(),xt(),xt())}}class Qc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class _T{constructor(t,i){this.targetId=t,this.Ce=i}}class vT{constructor(t,i,r=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class t0{constructor(){this.ve=0,this.Fe=e0(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),i=xt(),r=xt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:pt(38017,{changeType:c})}})),new Jl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=e0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ns(),this.Je=kc(),this.He=kc(),this.Ye=new le(Dt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(hm(c))if(r===0){const d=new ct(c.path);this.et(i,d,Je.newNoDocument(d,_t.min()))}else Gt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),g=p?this.ct(p,t,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=tr(r).toUint8Array()}catch(g){if(g instanceof GE)return Wa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Ym(d,l,c)}catch(g){return Wa(g instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&hm(p.target)){const g=new ct(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Je.newNoDocument(g,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=xt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Rh(t,i,this.Ye,this.je,r);return this.je=ns(),this.Je=kc(),this.He=kc(),this.Ye=new le(Dt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new t0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Dt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Dt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new t0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function kc(){return new le(ct.comparator)}function e0(){return new le(ct.comparator)}const BI={asc:"ASCENDING",desc:"DESCENDING"},qI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HI={and:"AND",or:"OR"};class GI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function mm(s,t){return s.useProto3Json||Eh(t)?t:{value:t}}function uh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ET(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function FI(s,t){return uh(s,t.toTimestamp())}function Ii(s){return Gt(!!s,49232),_t.fromTimestamp((function(i){const r=Ws(i);return new se(r.seconds,r.nanos)})(s))}function Xm(s,t){return pm(s,t).canonicalString()}function pm(s,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function TT(s){const t=ee.fromString(s);return Gt(RT(t),10190,{key:t.toString()}),t}function gm(s,t){return Xm(s.databaseId,t.path)}function Kd(s,t){const i=TT(t);if(i.get(1)!==s.databaseId.projectId)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(ST(i))}function AT(s,t){return Xm(s.databaseId,t)}function QI(s){const t=TT(s);return t.length===4?ee.emptyPath():ST(t)}function ym(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ST(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function n0(s,t,i){return{name:gm(s,t),fields:i.value.mapValue.fields}}function KI(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),Ye.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ye.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:yT(_.code);return new it(A,_.message||"")})(d);i=new vT(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Kd(s,r.document.name),c=Ii(r.document.updateTime),d=r.document.createTime?Ii(r.document.createTime):_t.min(),p=new dn({mapValue:{fields:r.document.fields}}),g=Je.newFoundDocument(l,c,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Qc(_,A,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Kd(s,r.document),c=r.readTime?Ii(r.readTime):_t.min(),d=Je.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Kd(s,r.document),c=r.removedTargetIds||[];i=new Qc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new UI(l,c),p=r.targetId;i=new _T(p,d)}}return i}function YI(s,t){let i;if(t instanceof Zl)i={update:n0(s,t.key,t.value)};else if(t instanceof Qm)i={delete:gm(s,t.key)};else if(t instanceof ar)i={update:n0(s,t.key,t.data),updateMask:iC(t.fieldMask)};else{if(!(t instanceof MI))return pt(16599,{Vt:t.type});i={verify:gm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof ql)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Hl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof lh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:FI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(s,t.precondition)),i}function XI(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ii(l.updateTime):Ii(c);return d.isEqual(_t.min())&&(d=Ii(c)),new DI(d,l.transformResults||[])})(i,t)))):[]}function $I(s,t){return{documents:[AT(s,t.path)]}}function ZI(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=AT(s,l);const c=(function(_){if(_.length!==0)return wT(ti.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(O){return{field:Ha(O.field),direction:tC(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=mm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function JI(s){let t=QI(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Gt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const O=bT(S);return O instanceof ti&&tT(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(J){return new Bl(Ga(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let O;return O=typeof S=="object"?S.value:S,Eh(O)?null:O})(i.limit));let g=null;i.startAt&&(g=(function(S){const O=!!S.before,G=S.values||[];return new oh(G,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const O=!S.before,G=S.values||[];return new oh(G,O)})(i.endAt)),gI(t,l,d,c,p,"F",g,_)}function WI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function bT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ga(i.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ie.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ti.create(i.compositeFilter.filters.map((r=>bT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(s):pt(30097,{filter:s})}function tC(s){return BI[s]}function eC(s){return qI[s]}function nC(s){return HI[s]}function Ha(s){return{fieldPath:s.canonicalString()}}function Ga(s){return Ke.fromServerFormat(s.fieldPath)}function wT(s){return s instanceof Ie?(function(i){if(i.op==="=="){if(Hv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(qv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Hv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(qv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:eC(i.op),value:i.value}}})(s):s instanceof ti?(function(i){const r=i.getFilters().map((l=>wT(l)));return r.length===1?r[0]:{compositeFilter:{op:nC(i.op),filters:r}}})(s):pt(54877,{filter:s})}function iC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function RT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Fs{constructor(t,i,r,l,c=_t.min(),d=_t.min(),p=Ye.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class sC{constructor(t){this.yt=t}}function rC(s){const t=JI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?dm(t,t.limit,"L"):t}class aC{constructor(){this.Cn=new oC}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Js.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Js.min())}updateCollectionGroup(t,i,r){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class oC{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Me(ee.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Me(ee.comparator)).toArray()}}const i0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(IT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class io{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}const s0="LruGarbageCollector",lC=1048576;function r0([s,t],[i,r]){const l=Dt(s,i);return l===0?Dt(t,r):l}class uC{constructor(t){this.Ir=t,this.buffer=new Me(r0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();r0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(s0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fo(i)?st(s0,"Ignoring IndexedDB error during garbage collection: ",i):await ho(i)}await this.Vr(3e5)}))}}class hC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(vh.ce);const r=new uC(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(i0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,g,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,i)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(_=Date.now(),Ba()<=Nt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function fC(s,t){return new hC(s,t)}class dC{constructor(){this.changes=new Yr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class mC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class pC{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Ml(r.mutation,l,Sn.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,xt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=xt()){const l=jr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=wl();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=jr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,xt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=ns();const d=Ol(),p=(function(){return Ol()})();return i.forEach(((g,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof ar)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Ml(A.mutation,_,A.mutation.getFieldMask(),se.now())):d.set(_.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((g=>(g.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new mC(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Ol();let l=new le(((d,p)=>d-p)),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let A=r.get(g)||Sn.empty();A=p.applyToLocalView(_,A),r.set(g,A);const S=(l.get(p.batchId)||xt()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,A=g.value,S=uT();A.forEach((O=>{if(!c.has(O)){const G=pT(i.get(O),r.get(O));G!==null&&S.set(O,G),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):sT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):$.resolve(jr());let p=Pl,g=c;return d.next((_=>$.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{g=g.insert(A,O)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,g,_,xt()))).next((A=>({batchId:p,changes:lT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((r=>{let l=wl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(g=>{const _=(function(S,O){return new mo(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((A=>{A.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((g,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=wl();return d.forEach(((g,_)=>{const A=c.get(g);A!==void 0&&Ml(A.mutation,_,Sn.empty(),se.now()),Sh(i,_)&&(p=p.insert(g,_))})),p}))}}class gC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ii(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:rC(l.bundledQuery),readTime:Ii(l.readTime)}})(i)),$.resolve()}}class yC{constructor(){this.overlays=new le(ct.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const r=jr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,i,r){const l=jr(),c=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new le(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=c.get(_.largestBatchId);A===null&&(A=jr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=jr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return $.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new kI(i,r));let c=this.qr.get(i);c===void 0&&(c=xt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class _C{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class $m{constructor(){this.Qr=new Me(ze.$r),this.Ur=new Me(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new ze(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new ze(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ct(new ee([])),r=new ze(i,t),l=new ze(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new ee([])),r=new ze(i,t),l=new ze(i,t+1);let c=xt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ze(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class ze{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Dt(t.Yr,i.Yr)}static Kr(t,i){return Dt(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}class vC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(ze.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VI(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new ze(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new ze(i,0),l=new ze(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Me(Dt);return i.forEach((l=>{const c=new ze(l,0),d=new ze(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ct.isDocumentKey(c)||(c=c.child(""));const d=new ze(new ct(c),0);let p=new Me(Dt);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(g.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const c=new ze(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new ze(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class EC{constructor(t){this.ri=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=ns();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ns();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:A}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Y2(K2(A),r)<=0||(l.has(A.key)||Sh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,r,l){pt(9500)}ii(t,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new TC(this)}getSize(t){return $.resolve(this.size)}}class TC extends dC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class AC{constructor(t){this.persistence=t,this.si=new Yr((i=>qm(i)),Hm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=io.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new io(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class CT{constructor(t,i){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new _C,this.referenceDelegate=t(this),this.Pi=new AC(this),this.indexManager=new aC,this.remoteDocumentCache=(function(l){return new EC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new sC(i),this.Ii=new gC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new yC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new vC(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){st("MemoryPersistence","Starting transaction:",t);const l=new SC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class SC extends $2{constructor(t){super(),this.currentSequenceNumber=t}}class Zm{constructor(t){this.persistence=t,this.Ri=new $m,this.Vi=null}static mi(t){return new Zm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=ct.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ch{constructor(t,i){this.persistence=t,this.pi=new Yr((r=>W2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=fC(this,i)}static mi(t,i){return new ch(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Hc(t.data.value)),i}br(t,i,r){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Jm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=xt(),l=xt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(t,i.fromCache,r,l)}}class bC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class wC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JS()?8:Z2(We())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new bC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ba()<=Nt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ba()<=Nt.DEBUG&&st("QueryEngine","Query:",qa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ba()<=Nt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):$.resolve())}ys(t,i){if(Kv(i))return $.resolve(null);let r=Ri(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=dm(i,null,"F"),r=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=xt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((g=>{const _=this.Ds(i,p);return this.Cs(i,_,d,g.readTime)?this.ys(t,dm(i,null,"F")):this.vs(t,_,i,g)}))))})))))}ws(t,i,r,l){return Kv(i)||l.isEqual(_t.min())?$.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?$.resolve(null):(Ba()<=Nt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.vs(t,d,i,Q2(l,Pl)).next((p=>p)))}))}Ds(t,i){let r=new Me(aT(t));return i.forEach(((l,c)=>{Sh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Ba()<=Nt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",qa(i)),this.ps.getDocumentsMatchingQuery(t,i,Js.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Wm="LocalStore",RC=3e8;class IC{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Dt),this.xs=new Yr((c=>qm(c)),Hm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function CC(s,t,i,r){return new IC(s,t,i,r)}async function NT(s,t){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let g=xt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}return i.localDocuments.getDocuments(r,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function NC(s,t){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,A){const S=_.batch,O=S.keys();let G=$.resolve();return O.forEach((J=>{G=G.next((()=>A.getEntry(g,J))).next((W=>{const Z=_.docVersions.get(J);Gt(Z!==null,48541),W.version.compareTo(Z)<0&&(S.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),A.addEntry(W)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=xt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function DT(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function DC(s,t){const i=Et(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const O=l.get(S);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let G=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(Ye.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),l=l.insert(S,G),(function(W,Z,lt){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=RC?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(O,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let g=ns(),_=xt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(xC(c,d,t.documentUpdates).next((A=>{g=A.ks,_=A.qs}))),!r.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function xC(s,t,i){let r=xt(),l=xt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=ns();return i.forEach(((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(_t.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):st(Wm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function OC(s,t){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=zm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function MC(s,t){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Fs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function _m(s,t,i){const r=Et(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!fo(d))throw d;st(Wm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function a0(s,t,i){const r=Et(s);let l=_t.min(),c=xt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,A){const S=Et(g),O=S.xs.get(A);return O!==void 0?$.resolve(S.Ms.get(O)):S.Pi.getTargetData(_,A)})(r,d,Ri(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:xt()))).next((p=>(VC(r,_I(t),p),{documents:p,Qs:c})))))}function VC(s,t,i){let r=s.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class o0{constructor(){this.activeTargetIds=bI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kC{constructor(){this.Mo=new o0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new o0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class UC{Oo(t){}shutdown(){}}const l0="ConnectivityMonitor";class u0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(l0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(l0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function vm(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const Yd="RestConnection",PC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===rh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=vm(),p=this.zo(t,i.toUriEncodedString());st(Yd,`Sending RPC '${t}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:_}=new URL(p),A=ao(_);return this.Jo(t,p,g,r,A).then((S=>(st(Yd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Wa(Yd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=PC[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class zC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class jC extends LC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=vm();return new Promise(((p,g)=>{const _=new ME;_.setWithCredentials(!0),_.listenOnce(VE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qc.NO_ERROR:const S=_.getResponseJson();st($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case qc.TIMEOUT:st($e,`RPC '${t}' ${d} timed out`),g(new it(X.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const O=_.getStatus();if(st($e,`RPC '${t}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const W=(function(lt){const yt=lt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(yt)>=0?yt:X.UNKNOWN})(J.status);g(new it(W,J.message))}else g(new it(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new it(X.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st($e,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);st($e,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=PE(),p=UE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const A=c.join("");st($e,`Creating RPC '${t}' stream ${l}: ${A}`,g);const S=d.createWebChannel(A,g);this.I_(S);let O=!1,G=!1;const J=new zC({Yo:Z=>{G?st($e,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(O||(st($e,`Opening RPC '${t}' stream ${l} transport.`),S.open(),O=!0),st($e,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),W=(Z,lt,yt)=>{Z.listen(lt,(dt=>{try{yt(dt)}catch(Ht){setTimeout((()=>{throw Ht}),0)}}))};return W(S,bl.EventType.OPEN,(()=>{G||(st($e,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),W(S,bl.EventType.CLOSE,(()=>{G||(G=!0,st($e,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),W(S,bl.EventType.ERROR,(Z=>{G||(G=!0,Wa($e,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new it(X.UNAVAILABLE,"The operation could not be completed")))})),W(S,bl.EventType.MESSAGE,(Z=>{if(!G){const lt=Z.data[0];Gt(!!lt,16349);const yt=lt,dt=yt?.error||yt[0]?.error;if(dt){st($e,`RPC '${t}' stream ${l} received error:`,dt);const Ht=dt.status;let Wt=(function(b){const C=Re[b];if(C!==void 0)return yT(C)})(Ht),Ot=dt.message;Wt===void 0&&(Wt=X.INTERNAL,Ot="Unknown error status: "+Ht+" with message "+dt.message),G=!0,J.a_(new it(Wt,Ot)),S.close()}else st($e,`RPC '${t}' stream ${l} received:`,lt),J.u_(lt)}})),W(p,kE.STAT_EVENT,(Z=>{Z.stat===am.PROXY?st($e,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===am.NOPROXY&&st($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Xd(){return typeof document<"u"?document:null}function Ih(s){return new GI(s,!0)}class xT{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const c0="PersistentStream";class OT{constructor(t,i,r,l,c,d,p,g){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(es(i.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new it(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(c0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(c0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BC extends OT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=KI(this.serializer,t),r=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ii(d.readTime):_t.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let p;const g=d.target;if(p=hm(g)?{documents:$I(c,g)}:{query:ZI(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ET(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=WI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=ym(this.serializer),i.removeTarget=t,this.q_(i)}}class qC extends OT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=XI(t.writeResults,t.commitTime),r=Ii(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=ym(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>YI(this.serializer,r)))};this.q_(i)}}class HC{}class GC extends HC{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,pm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(X.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,pm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class QC{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Xr(this)&&(st(Kr,"Restarting streams for network reachability change."),await(async function(g){const _=Et(g);_.Ea.add(4),await Wl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ch(_)})(this))}))})),this.Ra=new FC(r,l)}}async function Ch(s){if(Xr(s))for(const t of s.da)await t(!0)}async function Wl(s){for(const t of s.da)await t(!1)}function MT(s,t){const i=Et(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ip(i)?np(i):po(i).O_()&&ep(i,t))}function tp(s,t){const i=Et(s),r=po(i);i.Ia.delete(t),r.O_()&&VT(i,t),i.Ia.size===0&&(r.O_()?r.L_():Xr(i)&&i.Ra.set("Unknown"))}function ep(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}po(s).Y_(t)}function VT(s,t){s.Va.Ue(t),po(s).Z_(t)}function np(s){s.Va=new jI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),po(s).start(),s.Ra.ua()}function ip(s){return Xr(s)&&!po(s).x_()&&s.Ia.size>0}function Xr(s){return Et(s).Ea.size===0}function kT(s){s.Va=void 0}async function KC(s){s.Ra.set("Online")}async function YC(s){s.Ia.forEach(((t,i)=>{ep(s,t)}))}async function XC(s,t){kT(s),ip(s)?(s.Ra.ha(t),np(s)):s.Ra.set("Unknown")}async function $C(s,t,i){if(s.Ra.set("Online"),t instanceof vT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){st(Kr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await hh(s,r)}else if(t instanceof Qc?s.Va.Ze(t):t instanceof _T?s.Va.st(t):s.Va.tt(t),!i.isEqual(_t.min()))try{const r=await DT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const A=c.Ia.get(g);if(!A)return;c.Ia.set(g,A.withResumeToken(Ye.EMPTY_BYTE_STRING,A.snapshotVersion)),VT(c,g);const S=new Fs(A.target,g,_,A.sequenceNumber);ep(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){st(Kr,"Failed to raise snapshot:",r),await hh(s,r)}}async function hh(s,t,i){if(!fo(t))throw t;s.Ea.add(1),await Wl(s),s.Ra.set("Offline"),i||(i=()=>DT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Kr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ch(s)}))}function UT(s,t){return t().catch((i=>hh(s,i,t)))}async function Nh(s){const t=Et(s),i=nr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:zm;for(;ZC(t);)try{const l=await OC(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,JC(t,l)}catch(l){await hh(t,l)}PT(t)&&LT(t)}function ZC(s){return Xr(s)&&s.Ta.length<10}function JC(s,t){s.Ta.push(t);const i=nr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function PT(s){return Xr(s)&&!nr(s).x_()&&s.Ta.length>0}function LT(s){nr(s).start()}async function WC(s){nr(s).ra()}async function tN(s){const t=nr(s);for(const i of s.Ta)t.ea(i.mutations)}async function eN(s,t,i){const r=s.Ta.shift(),l=Km.from(r,t,i);await UT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Nh(s)}async function nN(s,t){t&&nr(s).X_&&await(async function(r,l){if((function(d){return PI(d)&&d!==X.ABORTED})(l.code)){const c=r.Ta.shift();nr(r).B_(),await UT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Nh(r)}})(s,t),PT(s)&&LT(s)}async function h0(s,t){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),st(Kr,"RemoteStore received new credentials");const r=Xr(i);i.Ea.add(3),await Wl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ch(i)}async function iN(s,t){const i=Et(s);t?(i.Ea.delete(2),await Ch(i)):t||(i.Ea.add(2),await Wl(i),i.Ra.set("Unknown"))}function po(s){return s.ma||(s.ma=(function(i,r,l){const c=Et(i);return c.sa(),new BC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:KC.bind(null,s),t_:YC.bind(null,s),r_:XC.bind(null,s),H_:$C.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),ip(s)?np(s):s.Ra.set("Unknown")):(await s.ma.stop(),kT(s))}))),s.ma}function nr(s){return s.fa||(s.fa=(function(i,r,l){const c=Et(i);return c.sa(),new qC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:WC.bind(null,s),r_:nN.bind(null,s),ta:tN.bind(null,s),na:eN.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Nh(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Kr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class sp{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new sp(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rp(s,t){if(es("AsyncQueue",`${t}: ${s}`),fo(s))return new it(X.UNAVAILABLE,`${t}: ${s}`);throw s}class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=wl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Xa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class f0{constructor(){this.ga=new le(ct.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class so{constructor(t,i,r,l,c,d,p,g,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new so(t,i,Xa.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class sN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class rN{constructor(){this.queries=d0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Et(i),c=l.queries;l.queries=d0(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new it(X.ABORTED,"Firestore shutting down"))}}function d0(){return new Yr((s=>rT(s)),Ah)}async function aN(s,t){const i=Et(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new sN,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=rp(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ap(i)}async function oN(s,t){const i=Et(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function lN(s,t){const i=Et(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&ap(i)}function uN(s,t,i){const r=Et(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function ap(s){s.Ca.forEach((t=>{t.next()}))}var Em,m0;(m0=Em||(Em={})).Ma="default",m0.Cache="cache";class cN{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new so(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Em.Cache}}class zT{constructor(t){this.key=t}}class jT{constructor(t){this.key=t}}class hN{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=aT(t),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new f0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const O=l.get(A),G=Sh(this.query,S)?S:null,J=!!O&&this.mutatedKeys.has(O.key),W=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;O&&G?O.data.isEqual(G.data)?J!==W&&(r.track({type:3,doc:G}),Z=!0):this.su(O,G)||(r.track({type:2,doc:G}),Z=!0,(g&&this.eu(G,g)>0||_&&this.eu(G,_)<0)&&(p=!0)):!O&&G?(r.track({type:0,doc:G}),Z=!0):O&&!G&&(r.track({type:1,doc:O}),Z=!0,(g||_)&&(p=!0)),Z&&(G?(d=d.add(G),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(G,J){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:Z})}};return W(G)-W(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new so(this.query,t.tu,c,d,t.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new jT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new zT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=xt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const op="SyncEngine";class fN{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class dN{constructor(t){this.key=t,this.hu=!1}}class mN{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yr((p=>rT(p)),Ah),this.Iu=new Map,this.Eu=new Set,this.du=new le(ct.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pN(s,t,i=!0){const r=QT(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await BT(r,t,i,!0),l}async function gN(s,t){const i=QT(s);await BT(i,t,!0,!1)}async function BT(s,t,i,r){const l=await MC(s.localStore,Ri(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await yN(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&MT(s.remoteStore,l),p}async function yN(s,t,i,r,l){s.pu=(S,O,G)=>(async function(W,Z,lt,yt){let dt=Z.view.ru(lt);dt.Cs&&(dt=await a0(W.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,dt))));const Ht=yt&&yt.targetChanges.get(Z.targetId),Wt=yt&&yt.targetMismatches.get(Z.targetId)!=null,Ot=Z.view.applyChanges(dt,W.isPrimaryClient,Ht,Wt);return g0(W,Z.targetId,Ot.au),Ot.snapshot})(s,S,O,G);const c=await a0(s.localStore,t,!0),d=new hN(t,c.Qs),p=d.ru(c.documents),g=Jl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,g);g0(s,i,_.au);const A=new fN(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function _N(s,t,i){const r=Et(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Ah(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await _m(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&tp(r.remoteStore,l.targetId),Tm(r,l.targetId)})).catch(ho)):(Tm(r,l.targetId),await _m(r.localStore,l.targetId,!0))}async function vN(s,t){const i=Et(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),tp(i.remoteStore,r.targetId))}async function EN(s,t,i){const r=IN(s);try{const l=await(function(d,p){const g=Et(d),_=se.now(),A=p.reduce(((G,J)=>G.add(J.key)),xt());let S,O;return g.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=ns(),W=xt();return g.Ns.getEntries(G,A).next((Z=>{J=Z,J.forEach(((lt,yt)=>{yt.isValidDocument()||(W=W.add(lt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(G,J))).next((Z=>{S=Z;const lt=[];for(const yt of p){const dt=OI(yt,S.get(yt.key).overlayedDocument);dt!=null&&lt.push(new ar(yt.key,dt,ZE(dt.value.mapValue),Jn.exists(!0)))}return g.mutationQueue.addMutationBatch(G,_,lt,p)})).next((Z=>{O=Z;const lt=Z.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(G,Z.batchId,lt)}))})).then((()=>({batchId:O.batchId,changes:lT(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(Dt)),_=_.insert(p,g),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await tu(r,l.changes),await Nh(r.remoteStore)}catch(l){const c=rp(l,"Failed to persist write");i.reject(c)}}async function qT(s,t){const i=Et(s);try{const r=await DC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await tu(i,r,t)}catch(r){await ho(r)}}function p0(s,t,i){const r=Et(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Et(d);g.onlineState=p;let _=!1;g.queries.forEach(((A,S)=>{for(const O of S.Sa)O.va(p)&&(_=!0)})),_&&ap(g)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function TN(s,t,i){const r=Et(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new le(ct.comparator);d=d.insert(c,Je.newNoDocument(c,_t.min()));const p=xt().add(c),g=new Rh(_t.min(),new Map,new le(Dt),d,p);await qT(r,g),r.du=r.du.remove(c),r.Au.delete(t),lp(r)}else await _m(r.localStore,t,!1).then((()=>Tm(r,t,i))).catch(ho)}async function AN(s,t){const i=Et(s),r=t.batch.batchId;try{const l=await NC(i.localStore,t);GT(i,r,null),HT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await tu(i,l)}catch(l){await ho(l)}}async function SN(s,t,i){const r=Et(s);try{const l=await(function(d,p){const g=Et(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return g.mutationQueue.lookupMutationBatch(_,p).next((S=>(Gt(S!==null,37113),A=S.keys(),g.mutationQueue.removeMutationBatch(_,S)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>g.localDocuments.getDocuments(_,A)))}))})(r.localStore,t);GT(r,t,i),HT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await tu(r,l)}catch(l){await ho(l)}}function HT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function GT(s,t,i){const r=Et(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Tm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||FT(s,r)}))}function FT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(tp(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),lp(s))}function g0(s,t,i){for(const r of i)r instanceof zT?(s.Ru.addReference(r.key,t),bN(s,r)):r instanceof jT?(st(op,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||FT(s,r.key)):pt(19791,{wu:r})}function bN(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(st(op,"New document in limbo: "+i),s.Eu.add(r),lp(s))}function lp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ct(ee.fromString(t)),r=s.fu.next();s.Au.set(r,new dN(i)),s.du=s.du.insert(i,r),MT(s.remoteStore,new Fs(Ri(Gm(i.path)),r,"TargetPurposeLimboResolution",vh.ce))}}async function tu(s,t,i){const r=Et(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Jm.As(g.targetId,_);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,_){const A=Et(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(O=>$.forEach(O.Es,(G=>A.persistence.referenceDelegate.addReference(S,O.targetId,G))).next((()=>$.forEach(O.ds,(G=>A.persistence.referenceDelegate.removeReference(S,O.targetId,G)))))))))}catch(S){if(!fo(S))throw S;st(Wm,"Failed to update sequence numbers: "+S)}for(const S of _){const O=S.targetId;if(!S.fromCache){const G=A.Ms.get(O),J=G.snapshotVersion,W=G.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(O,W)}}})(r.localStore,c))}async function wN(s,t){const i=Et(s);if(!i.currentUser.isEqual(t)){st(op,"User change. New user:",t.toKey());const r=await NT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new it(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await tu(i,r.Ls)}}function RN(s,t){const i=Et(s),r=i.Au.get(t);if(r&&r.hu)return xt().add(r.key);{let l=xt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function QT(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=TN.bind(null,t),t.Pu.H_=lN.bind(null,t.eventManager),t.Pu.yu=uN.bind(null,t.eventManager),t}function IN(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SN.bind(null,t),t}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return CC(this.persistence,new wC,t.initialUser,this.serializer)}Cu(t){return new CT(Zm.mi,this.serializer)}Du(t){return new kC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class CN extends fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cC(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new CT((r=>ch.mi(r,i)),this.serializer)}}class Am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>p0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wN.bind(null,this.syncEngine),await iN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rN})()}createDatastore(t){const i=Ih(t.databaseInfo.databaseId),r=(function(c){return new jC(c)})(t.databaseInfo);return(function(c,d,p,g){return new GC(c,d,p,g)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new QC(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>p0(this.syncEngine,i,0)),(function(){return u0.v()?new u0:new UC})())}createSyncEngine(t,i){return(function(l,c,d,p,g,_,A){const S=new mN(l,c,d,p,g,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Et(i);st(Kr,"RemoteStore shutting down."),r.Ea.add(5),await Wl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class NN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ir="FirestoreClient";class DN{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{st(ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=rp(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function $d(s,t){s.asyncQueue.verifyOperationInProgress(),st(ir,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await NT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function y0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await xN(s);st(ir,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>h0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>h0(t.remoteStore,l))),s._onlineComponents=t}async function xN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(ir,"Using user provided OfflineComponentProvider");try{await $d(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Wa("Error using user provided cache. Falling back to memory cache: "+i),await $d(s,new fh)}}else st(ir,"Using default OfflineComponentProvider"),await $d(s,new CN(void 0));return s._offlineComponents}async function KT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(ir,"Using user provided OnlineComponentProvider"),await y0(s,s._uninitializedComponentsProvider._online)):(st(ir,"Using default OnlineComponentProvider"),await y0(s,new Am))),s._onlineComponents}function ON(s){return KT(s).then((t=>t.syncEngine))}async function _0(s){const t=await KT(s),i=t.eventManager;return i.onListen=pN.bind(null,t.syncEngine),i.onUnlisten=_N.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=gN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=vN.bind(null,t.syncEngine),i}function YT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const v0=new Map;const XT="firestore.googleapis.com",E0=!0;class T0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XT,this.ssl=E0}else this.host=t.host,this.ssl=t.ssl??E0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=IT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lC)throw new it(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}F2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new k2;switch(r.type){case"firstParty":return new z2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=v0.get(i);r&&(st("ComponentProvider","Removing Datastore"),v0.delete(i),r.terminate())})(this),Promise.resolve()}}function MN(s,t,i,r={}){s=$s(s,Dh);const l=ao(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(H0(`https://${p}`),G0("Firestore",!0)),c.host!==XT&&c.host!==p&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!Hr(g,d)&&(s._setSettings(g),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Ze.MOCK_USER;else{_=HS(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new it(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ze(S)}s._authCredentials=new U2(new zE(_,A))}}class $r{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new $r(this.firestore,t,this._query)}}class Ne{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if($l(i,Ne._jsonSchema))return new Ne(t,r||null,new ct(ee.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Ce("string",Ne._jsonSchemaVersion),referencePath:Ce("string")};class Zs extends $r{constructor(t,i,r){super(t,i,Gm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new ct(t))}withConverter(t){return new Zs(this.firestore,t,this._path)}}function Pc(s,t,...i){if(s=Ve(s),jE("collection","path",t),s instanceof Dh){const r=ee.fromString(t,...i);return Mv(r),new Zs(s,null,r)}{if(!(s instanceof Ne||s instanceof Zs))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...i));return Mv(r),new Zs(s.firestore,null,r)}}function Kc(s,t,...i){if(s=Ve(s),arguments.length===1&&(t=Lm.newId()),jE("doc","path",t),s instanceof Dh){const r=ee.fromString(t,...i);return Ov(r),new Ne(s,null,new ct(r))}{if(!(s instanceof Ne||s instanceof Zs))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...i));return Ov(r),new Ne(s.firestore,s instanceof Zs?s.converter:null,new ct(r))}}const A0="AsyncQueue";class S0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xT(this,"async_queue_retry"),this._c=()=>{const r=Xd();r&&st(A0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fo(t))throw t;st(A0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",b0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=sp.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:b0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function b0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function w0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ro extends Dh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new S0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new S0(t),this._firestoreClient=void 0,await t}}}function VN(s,t){const i=typeof s=="object"?s:Y0(),r=typeof s=="string"?s:rh,l=Cm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=BS("firestore");c&&MN(l,...c)}return l}function $T(s){if(s._terminated)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||kN(s),s._firestoreClient}function kN(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new nI(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,YT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new DN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ye.fromBase64String(t))}catch(i){throw new it(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($l(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ce("string",Pn._jsonSchemaVersion),bytes:Ce("string")};class xh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Oh{constructor(t){this._methodName=t}}class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if($l(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ce("string",Ci._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($l(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ni(t.vectorValues);throw new it(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Ce("string",Ni._jsonSchemaVersion),vectorValues:Ce("object")};const UN=/^__.*__$/;class PN{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new ar(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(t,this.data,i,this.fieldTransforms)}}class ZT{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new ar(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function JT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:s})}}class up{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new up({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return dh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(JT(this.Ac)&&UN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class LN{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ih(t)}Cc(t,i,r,l=!1){return new up({Ac:t,methodName:i,Dc:r,path:Ke.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cp(s){const t=s._freezeSettings(),i=Ih(s._databaseId);return new LN(s._databaseId,!!t.ignoreUndefinedProperties,i)}function zN(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);fp("Data must be an object, but it was:",d,r);const p=WT(r,d);let g,_;if(c.merge)g=new Sn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const O=Sm(t,S,i);if(!d.contains(O))throw new it(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);eA(A,O)||A.push(O)}g=new Sn(A),_=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,_=d.fieldTransforms;return new PN(new dn(p),g,_)}class Mh extends Oh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mh}}class hp extends Oh{_toFieldTransform(t){return new CI(t.path,new ql)}isEqual(t){return t instanceof hp}}function jN(s,t,i,r){const l=s.Cc(1,t,i);fp("Data must be an object, but it was:",l,r);const c=[],d=dn.empty();rr(r,((g,_)=>{const A=dp(t,g,i);_=Ve(_);const S=l.yc(A);if(_ instanceof Mh)c.push(A);else{const O=eu(_,S);O!=null&&(c.push(A),d.set(A,O))}}));const p=new Sn(c);return new ZT(d,p,l.fieldTransforms)}function BN(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[Sm(t,r,i)],g=[l];if(c.length%2!=0)throw new it(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(Sm(t,c[O])),g.push(c[O+1]);const _=[],A=dn.empty();for(let O=p.length-1;O>=0;--O)if(!eA(_,p[O])){const G=p[O];let J=g[O];J=Ve(J);const W=d.yc(G);if(J instanceof Mh)_.push(G);else{const Z=eu(J,W);Z!=null&&(_.push(G),A.set(G,Z))}}const S=new Sn(_);return new ZT(A,S,d.fieldTransforms)}function qN(s,t,i,r=!1){return eu(i,s.Cc(r?4:3,t))}function eu(s,t){if(tA(s=Ve(s)))return fp("Unsupported field value:",t,s),WT(s,t);if(s instanceof Oh)return(function(r,l){if(!JT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let g=eu(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=se.fromDate(r);return{timestampValue:uh(l.serializer,c)}}if(r instanceof se){const c=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(l.serializer,c)}}if(r instanceof Ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:ET(l.serializer,r._byteString)};if(r instanceof Ne){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ni)return(function(d,p){return{mapValue:{fields:{[XE]:{stringValue:$E},[ah]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Fm(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${_h(r)}`)})(s,t)}function WT(s,t){const i={};return HE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rr(s,((r,l)=>{const c=eu(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function tA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Ci||s instanceof Pn||s instanceof Ne||s instanceof Oh||s instanceof Ni)}function fp(s,t,i){if(!tA(i)||!BE(i)){const r=_h(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Sm(s,t,i){if((t=Ve(t))instanceof xh)return t._internalPath;if(typeof t=="string")return dp(s,t);throw dh("Field path arguments must be of type string or ",s,!1,void 0,i)}const HN=new RegExp("[~\\*/\\[\\]]");function dp(s,t,i){if(t.search(HN)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new xh(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new it(X.INVALID_ARGUMENT,p+s+g)}function eA(s,t){return s.some((i=>i.isEqual(t)))}class nA{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new GN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(mp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class GN extends nA{data(){return super.data()}}function mp(s,t){return typeof t=="string"?dp(s,t):t instanceof xh?t._internalPath:t._delegate._internalPath}function FN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pp{}class iA extends pp{}function R0(s,t,...i){let r=[];t instanceof pp&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((g=>g instanceof yp)).length,p=c.filter((g=>g instanceof gp)).length;if(d>1||d>0&&p>0)throw new it(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class gp extends iA{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new gp(t,i,r)}_apply(t){const i=this._parse(t);return sA(t._query,i),new $r(t.firestore,t.converter,fm(t._query,i))}_parse(t){const i=cp(t.firestore);return(function(c,d,p,g,_,A,S){let O;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){N0(S,A);const J=[];for(const W of S)J.push(C0(g,c,W));O={arrayValue:{values:J}}}else O=C0(g,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||N0(S,A),O=qN(p,d,S,A==="in"||A==="not-in");return Ie.create(_,A,O)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class yp extends pp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new yp(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ti.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)sA(d,g),d=fm(d,g)})(t._query,i),new $r(t.firestore,t.converter,fm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _p extends iA{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new _p(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bl(c,d)})(t._query,this._field,this._direction);return new $r(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new mo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function I0(s,t="asc"){const i=t,r=mp("orderBy",s);return _p._create(r,i)}function C0(s,t,i){if(typeof(i=Ve(i))=="string"){if(i==="")throw new it(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sT(t)&&i.indexOf("/")!==-1)throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ee.fromString(i));if(!ct.isDocumentKey(r))throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bv(s,new ct(r))}if(i instanceof Ne)return Bv(s,i._key);throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(i)}.`)}function N0(s,t){if(!Array.isArray(s)||s.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sA(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class QN{convertValue(t,i="none"){switch(er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return rr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[ah].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new Ni(i)}convertGeoPoint(t){return new Ci(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Th(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=Ws(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ee.fromString(t);Gt(RT(r),9688,{name:t});const l=new zl(r.get(1),r.get(3)),c=new ct(r.popFirst(5));return l.isEqual(i)||es(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function KN(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class Il{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qr extends nA{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(mp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Ce("string",qr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Yc extends qr{data(t={}){return super.data(t)}}class $a{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Il(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Yc(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Yc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Il(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Yc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Il(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:YN(p.type),doc:g,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function YN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Ce("string",$a._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class rA extends QN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}function D0(s,t,i,...r){s=$s(s,Ne);const l=$s(s.firestore,ro),c=cp(l);let d;return d=typeof(t=Ve(t))=="string"||t instanceof xh?BN(c,"updateDoc",s._key,t,i,r):jN(c,"updateDoc",s._key,t),vp(l,[d.toMutation(s._key,Jn.exists(!0))])}function XN(s){return vp($s(s.firestore,ro),[new Qm(s._key,Jn.none())])}function x0(s,t){const i=$s(s.firestore,ro),r=Kc(s),l=KN(s.converter,t);return vp(i,[zN(cp(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then((()=>r))}function O0(s,...t){s=Ve(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||w0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(w0(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof Ne)d=$s(s.firestore,ro),p=Gm(s._key.path),c={next:g=>{t[r]&&t[r]($N(d,s,g))},error:t[r+1],complete:t[r+2]};else{const g=$s(s,$r);d=$s(g.firestore,ro),p=g._query;const _=new rA(d);c={next:A=>{t[r]&&t[r](new $a(d,_,g,A))},error:t[r+1],complete:t[r+2]},FN(s._query)}return(function(_,A,S,O){const G=new NN(O),J=new cN(A,G,S);return _.asyncQueue.enqueueAndForget((async()=>aN(await _0(_),J))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>oN(await _0(_),J)))}})($T(d),p,l,c)}function vp(s,t){return(function(r,l){const c=new Br;return r.asyncQueue.enqueueAndForget((async()=>EN(await ON(r),l,c))),c.promise})($T(s),t)}function $N(s,t,i){const r=i.docs.get(t._key),l=new rA(s);return new qr(s,l,t._key,r,new Il(i.hasPendingWrites,i.fromCache),t.converter)}function M0(){return new hp("serverTimestamp")}(function(t,i=!0){(function(l){co=l})(oo),Ja(new Gr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new ro(new P2(r.getProvider("auth-internal")),new j2(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ys(Cv,Nv,t),Ys(Cv,Nv,"esm2020")})();let aA,js;typeof __firebase_config<"u"&&(aA=JSON.parse(__firebase_config),js=typeof __app_id<"u"?__app_id:"default-app-id");const oA=K0(aA),Za=M2(oA),Lr=VN(oA),ZN=({isOpen:s,onClose:t,initialMode:i="login"})=>{const[r,l]=qt.useState(i),[c,d]=qt.useState(""),[p,g]=qt.useState(""),[_,A]=qt.useState(""),[S,O]=qt.useState(!1);if(!s)return null;const G=async W=>{W.preventDefault(),A(""),O(!0);try{r==="signup"?await yR(Za,c,p):await _R(Za,c,p),t()}catch(Z){let lt="";Z.code==="auth/email-already-in-use"&&(lt=""),Z.code==="auth/wrong-password"&&(lt=""),Z.code==="auth/user-not-found"&&(lt=""),Z.code==="auth/weak-password"&&(lt="6"),A(lt)}finally{O(!1)}},J=async()=>{O(!0);try{await hR(Za),t()}catch{A("")}finally{O(!1)}};return V.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[V.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm"}),V.jsx("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:V.jsxs("div",{className:"p-8",children:[V.jsxs("div",{className:"text-center mb-8",children:[V.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-indigo-200",children:V.jsx(Xc,{className:"w-6 h-6 text-white"})}),V.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:r==="login"?"":""}),V.jsx("p",{className:"text-slate-500 text-sm mt-2",children:r==="login"?"":""})]}),V.jsxs("form",{onSubmit:G,className:"space-y-4",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-1 ml-1",children:""}),V.jsxs("div",{className:"relative",children:[V.jsx(pS,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),V.jsx("input",{type:"email",required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-slate-800",placeholder:"name@example.com",value:c,onChange:W=>d(W.target.value)})]})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-xs font-bold text-slate-700 mb-1 ml-1",children:""}),V.jsxs("div",{className:"relative",children:[V.jsx(hS,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),V.jsx("input",{type:"password",required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-slate-800",placeholder:"",value:p,onChange:W=>g(W.target.value)})]})]}),_&&V.jsx("div",{className:"text-red-500 text-xs text-center bg-red-50 py-2 rounded-lg",children:_}),V.jsx("button",{type:"submit",disabled:S,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl shadow-lg shadow-indigo-200 transition-all flex items-center justify-center",children:S?"...":r==="login"?"":" Pro "})]}),V.jsxs("div",{className:"mt-6 flex items-center justify-between text-sm",children:[V.jsx("button",{onClick:()=>{A(""),l(r==="login"?"signup":"login")},className:"text-indigo-600 font-semibold hover:underline",children:r==="login"?"":""}),V.jsx("button",{onClick:J,className:"text-slate-400 hover:text-slate-600",children:" "})]})]})})]})},JN=({isOpen:s,onClose:t})=>s?V.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[V.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),V.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-3xl overflow-hidden flex flex-col md:flex-row animate-in fade-in zoom-in duration-200",children:[V.jsxs("div",{className:"bg-indigo-600 p-8 text-white md:w-2/5 flex flex-col justify-between",children:[V.jsxs("div",{children:[V.jsx("h3",{className:"text-2xl font-bold mb-2",children:" Pro"}),V.jsx("p",{className:"text-indigo-100 text-sm",children:""})]}),V.jsxs("div",{className:"space-y-4 mt-8",children:[V.jsxs("div",{className:"flex items-center text-sm",children:[V.jsx(wS,{className:"w-5 h-5 mr-3 opacity-80"}),V.jsx("span",{children:"iOS & Android APP "})]}),V.jsxs("div",{className:"flex items-center text-sm",children:[V.jsx(SS,{className:"w-5 h-5 mr-3 opacity-80"}),V.jsx("span",{children:""})]}),V.jsxs("div",{className:"flex items-center text-sm",children:[V.jsx(wm,{className:"w-5 h-5 mr-3 opacity-80"}),V.jsx("span",{children:" AI "})]})]}),V.jsx("div",{className:"mt-8 pt-6 border-t border-indigo-500 text-xs opacity-60",children:"Project Nexus for Enterprise"})]}),V.jsxs("div",{className:"p-8 md:w-3/5 bg-slate-50",children:[V.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:V.jsx(U0,{className:"w-6 h-6"})}),V.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-6",children:""}),V.jsxs("div",{className:"space-y-4",children:[V.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 flex justify-between items-center bg-white opacity-70",children:[V.jsxs("div",{children:[V.jsx("span",{className:"block font-bold text-slate-700",children:""}),V.jsx("span",{className:"text-xs text-slate-500",children:""})]}),V.jsx("span",{className:"font-bold text-slate-800",children:""})]}),V.jsxs("div",{className:"border-2 border-indigo-600 rounded-xl p-4 flex justify-between items-center bg-white shadow-md relative overflow-hidden",children:[V.jsx("div",{className:"absolute top-0 right-0 bg-indigo-600 text-white text-[10px] px-2 py-0.5 rounded-bl-lg",children:""}),V.jsxs("div",{children:[V.jsx("span",{className:"block font-bold text-indigo-900",children:"Pro "}),V.jsx("span",{className:"text-xs text-slate-500",children:" + AI "})]}),V.jsx("div",{className:"text-right",children:V.jsxs("span",{className:"block font-bold text-xl text-indigo-600",children:["18",V.jsx("span",{className:"text-sm font-normal text-slate-400",children:"/"})]})})]})]}),V.jsxs("button",{className:"w-full mt-8 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl shadow-lg shadow-indigo-200 transition-all transform active:scale-95 flex items-center justify-center",children:[V.jsx(OS,{className:"w-4 h-4 mr-2 fill-current"}),""]}),V.jsx("p",{className:"text-xs text-center text-slate-400 mt-4",children:"7/"})]})]})]}):null,WN=({project:s,tasks:t})=>{const[i,r]=qt.useState(""),[l,c]=qt.useState(""),d=()=>{const g=t.filter(S=>!S.completed).map(S=>`- ${S.title}`).join(`
`),_=t.filter(S=>S.completed).map(S=>`- ${S.title}`).join(`
`),A=`
# 
${s.title}
/${s.description||""}

# 
${Math.round(t.filter(S=>S.completed).length/(t.length||1)*100)}%

# 
${_||"()"}

# /
${g||"()"}

# 

    `.trim();r(A)},p=()=>{const g=document.createElement("textarea");g.value=i,document.body.appendChild(g),g.select();try{document.execCommand("copy"),c(""),setTimeout(()=>c(""),2e3)}catch{c("")}document.body.removeChild(g)};return V.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-slate-200",children:[V.jsxs("div",{className:"flex items-center justify-between mb-4",children:[V.jsxs("h3",{className:"text-lg font-semibold flex items-center text-indigo-600",children:[V.jsx(wm,{className:"w-5 h-5 mr-2"}),"AI "]}),V.jsx("button",{onClick:d,className:"text-xs md:text-sm bg-indigo-50 text-indigo-600 px-3 py-1.5 rounded-full hover:bg-indigo-100 transition-colors font-medium",children:""})]}),V.jsx("p",{className:"text-sm text-slate-500 mb-4 hidden md:block",children:"ChatGPT/ClaudeAI"}),V.jsxs("div",{className:"relative",children:[V.jsx("textarea",{className:"w-full h-48 p-4 bg-slate-50 border border-slate-200 rounded-lg text-xs font-mono text-slate-700 resize-none focus:ring-2 focus:ring-indigo-500 outline-none",value:i,readOnly:!0,placeholder:"''..."}),i&&V.jsxs("button",{onClick:p,className:"absolute bottom-4 right-4 bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm shadow-lg hover:bg-indigo-700 flex items-center transition-all active:scale-95",children:[V.jsx(nS,{className:"w-4 h-4 mr-2"}),l]})]})]})},tD=({projectId:s,tasks:t,onAddTask:i,onToggleTask:r,onDeleteTask:l})=>{const[c,d]=qt.useState(""),p=g=>{g.preventDefault(),c.trim()&&(i(c),d(""))};return V.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-slate-200 h-full flex flex-col",children:[V.jsxs("h3",{className:"text-lg font-semibold flex items-center mb-4 text-slate-800",children:[V.jsx(IS,{className:"w-5 h-5 mr-2 text-emerald-500"}),""]}),V.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 mb-4 pr-1 custom-scrollbar",children:t.length===0?V.jsx("div",{className:"text-center text-slate-400 py-8 italic text-sm",children:""}):t.map(g=>V.jsxs("div",{className:"group flex items-start p-3 hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-100 transition-all",children:[V.jsx("button",{onClick:()=>r(g),className:`mt-0.5 w-6 h-6 rounded border flex items-center justify-center mr-3 shrink-0 transition-colors ${g.completed?"bg-emerald-500 border-emerald-500":"border-slate-300 hover:border-emerald-400"}`,children:g.completed&&V.jsx(tS,{className:"w-4 h-4 text-white"})}),V.jsx("span",{className:`text-sm md:text-base pt-0.5 break-words flex-1 ${g.completed?"text-slate-400 line-through":"text-slate-700"}`,children:g.title}),V.jsx("button",{onClick:()=>l(g.id),className:"opacity-100 md:opacity-0 group-hover:opacity-100 text-slate-300 hover:text-red-500 transition-opacity p-1",children:V.jsx(NS,{className:"w-4 h-4"})})]},g.id))}),V.jsx("form",{onSubmit:p,className:"mt-auto",children:V.jsxs("div",{className:"flex shadow-sm",children:[V.jsx("input",{type:"text",value:c,onChange:g=>d(g.target.value),placeholder:"...",className:"flex-1 px-4 py-3 border border-slate-200 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-slate-50 text-sm"}),V.jsx("button",{type:"submit",className:"px-4 md:px-5 bg-indigo-600 text-white rounded-r-lg hover:bg-indigo-700 transition-colors flex items-center justify-center",children:V.jsx(k0,{className:"w-5 h-5"})})]})})]})},eD=({project:s,onUpdateProject:t})=>{const[i,r]=qt.useState(!1),[l,c]=qt.useState(s.description||"");qt.useEffect(()=>{c(s.description||"")},[s]);const d=()=>{t({description:l}),r(!1)};return V.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-slate-200 mb-6",children:[V.jsxs("div",{className:"flex justify-between items-start mb-4",children:[V.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[V.jsx(Xc,{className:"w-5 h-5 mr-2 text-blue-500"})," & "]}),V.jsx("button",{onClick:()=>i?d():r(!0),className:`text-xs md:text-sm px-3 py-1 rounded-full transition-colors ${i?"bg-emerald-100 text-emerald-700":"text-slate-400 hover:bg-slate-100"}`,children:i?"":""})]}),i?V.jsx("textarea",{className:"w-full h-32 p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-slate-700 text-sm",value:l,onChange:p=>c(p.target.value),placeholder:"... ..."}):V.jsx("div",{className:"prose prose-sm max-w-none text-slate-600",children:s.description?V.jsx("p",{className:"whitespace-pre-wrap text-sm md:text-base leading-relaxed",children:s.description}):V.jsx("p",{className:"italic text-slate-400 text-sm",children:"AI"})}),V.jsx("div",{className:"mt-4 pt-4 border-t border-slate-100 flex items-center justify-between text-xs text-slate-400",children:V.jsxs("div",{className:"flex items-center",children:[V.jsx(uS,{className:"w-3 h-3 mr-1"}),V.jsx("span",{children:""})]})})]})};function nD(){const[s,t]=qt.useState(null),[i,r]=qt.useState([]),[l,c]=qt.useState(null),[d,p]=qt.useState([]),[g,_]=qt.useState(""),[A,S]=qt.useState(!1),[O,G]=qt.useState(!1),[J,W]=qt.useState(!1),[Z,lt]=qt.useState("dashboard");qt.useEffect(()=>{const w=()=>{window.innerWidth>=768?S(!0):S(!1)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),qt.useEffect(()=>(typeof __initial_auth_token<"u"&&__initial_auth_token&&gR(Za,__initial_auth_token),TR(Za,w=>{t(w),w?W(!1):(W(!0),r([]),c(null))})),[]),qt.useEffect(()=>{if(!s)return;const w=R0(Pc(Lr,"artifacts",js,"users",s.uid,"projects"),I0("createdAt","desc")),k=O0(w,R=>{const zt=R.docs.map(ue=>({id:ue.id,...ue.data()}));r(zt),!l&&zt.length>0&&window.innerWidth>=768&&c(zt[0].id)});return()=>k()},[s]),qt.useEffect(()=>{if(!s||!l)return;const w=R0(Pc(Lr,"artifacts",js,"users",s.uid,"projects",l,"tasks"),I0("createdAt","asc")),k=O0(w,R=>{p(R.docs.map(zt=>({id:zt.id,...zt.data()})))});return()=>k()},[s,l]);const yt=async()=>{const w=prompt("");if(w&&s)try{const k=await x0(Pc(Lr,"artifacts",js,"users",s.uid,"projects"),{title:w,description:"",status:"active",createdAt:M0()});c(k.id),window.innerWidth<768&&S(!1)}catch(k){console.error("Error adding project: ",k)}},dt=async w=>{l&&await D0(Kc(Lr,"artifacts",js,"users",s.uid,"projects",l),w)},Ht=async w=>{l&&await x0(Pc(Lr,"artifacts",js,"users",s.uid,"projects",l,"tasks"),{title:w,completed:!1,createdAt:M0()})},Wt=async w=>{await D0(Kc(Lr,"artifacts",js,"users",s.uid,"projects",l,"tasks",w.id),{completed:!w.completed})},Ot=async w=>{await XN(Kc(Lr,"artifacts",js,"users",s.uid,"projects",l,"tasks",w))},N=()=>{confirm("")&&AR(Za)},b=i.find(w=>w.id===l),C=i.filter(w=>w.title.toLowerCase().includes(g.toLowerCase())),M=qt.useMemo(()=>d.length===0?0:Math.round(d.filter(w=>w.completed).length/d.length*100),[d]);return V.jsxs("div",{className:"flex h-screen bg-slate-100 font-sans text-slate-800 overflow-hidden relative",children:[V.jsx(JN,{isOpen:O,onClose:()=>G(!1)}),V.jsx(ZN,{isOpen:J&&!s,onClose:()=>W(!1)}),A&&V.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 md:hidden",onClick:()=>S(!1)}),V.jsxs("div",{className:`
        fixed md:relative z-30 h-full
        w-72 bg-slate-900 text-slate-300 flex flex-col shrink-0 
        transition-transform duration-300 ease-in-out shadow-2xl md:shadow-none
        ${A?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,children:[V.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between",children:[V.jsxs("div",{className:"font-bold text-white flex items-center text-lg",children:[V.jsx(Xc,{className:"w-5 h-5 mr-2 text-indigo-400"}),"Project Nexus"]}),V.jsx("button",{onClick:()=>S(!1),className:"md:hidden text-slate-400",children:V.jsx(U0,{className:"w-5 h-5"})})]}),V.jsx("div",{className:"p-4",children:V.jsxs("div",{className:"relative",children:[V.jsx(TS,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-500"}),V.jsx("input",{type:"text",placeholder:"...",className:"w-full bg-slate-800 text-sm rounded-lg pl-9 pr-3 py-2 outline-none focus:ring-1 focus:ring-indigo-500 text-slate-200 placeholder-slate-500",value:g,onChange:w=>_(w.target.value)})]})}),V.jsxs("div",{className:"flex-1 overflow-y-auto px-2 pb-4 space-y-1 custom-scrollbar",children:[V.jsxs("div",{className:"text-xs font-semibold text-slate-500 px-3 py-2 uppercase tracking-wider flex justify-between items-center",children:[V.jsx("span",{children:""}),V.jsx("span",{className:"bg-slate-800 text-slate-400 px-1.5 py-0.5 rounded text-[10px]",children:i.length})]}),C.map(w=>V.jsx("div",{onClick:()=>{c(w.id),window.innerWidth<768&&S(!1)},className:`group flex items-center justify-between px-3 py-3 rounded-lg cursor-pointer transition-colors ${l===w.id?"bg-indigo-600 text-white shadow-md":"hover:bg-slate-800 text-slate-400 hover:text-slate-200"}`,children:V.jsxs("div",{className:"flex items-center overflow-hidden",children:[V.jsx(oS,{className:`w-4 h-4 mr-3 shrink-0 ${l===w.id?"text-indigo-200":"text-slate-600 group-hover:text-slate-400"}`}),V.jsx("span",{className:"truncate text-sm font-medium",children:w.title})]})},w.id))]}),V.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900/50",children:[V.jsxs("div",{className:"bg-slate-800 rounded-xl p-3 mb-3",children:[V.jsxs("div",{className:"flex items-center justify-between mb-2",children:[V.jsxs("div",{className:"flex items-center overflow-hidden",children:[V.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500 flex shrink-0 items-center justify-center text-white font-bold text-xs",children:s&&s.email?s.email[0].toUpperCase():"G"}),V.jsxs("div",{className:"ml-2 overflow-hidden",children:[V.jsx("div",{className:"text-xs text-white font-medium truncate max-w-[100px]",title:s?.email||"Guest",children:s?.email||"Guest User"}),V.jsx("div",{className:"text-[10px] text-slate-400",children:s?.isAnonymous?"":""})]})]}),V.jsx("button",{onClick:N,className:"text-slate-500 hover:text-white transition-colors",title:"",children:V.jsx(dS,{className:"w-4 h-4"})})]}),V.jsx("button",{onClick:()=>G(!0),className:"w-full text-xs bg-indigo-600 hover:bg-indigo-500 text-white py-1.5 rounded transition-colors flex items-center justify-center",children:" Pro"})]}),V.jsxs("button",{onClick:yt,className:"w-full flex items-center justify-center bg-white hover:bg-slate-50 text-slate-900 py-2.5 rounded-lg text-sm font-bold transition-colors shadow-lg",children:[V.jsx(k0,{className:"w-4 h-4 mr-2"}),""]})]})]}),V.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden w-full relative bg-slate-50",children:[V.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-white border-b border-slate-200",children:[V.jsxs("div",{className:"flex items-center",children:[V.jsx("button",{onClick:()=>S(!0),className:"p-2 -ml-2 text-slate-600",children:V.jsx(yS,{className:"w-6 h-6"})}),V.jsx("span",{className:"ml-2 font-bold text-slate-800 truncate max-w-[150px]",children:b?b.title:"Project Nexus"})]}),V.jsx("button",{onClick:()=>G(!0),className:"text-indigo-600",children:V.jsx(rS,{className:"w-5 h-5"})})]}),b?V.jsxs(V.Fragment,{children:[V.jsxs("header",{className:"bg-white border-b border-slate-200 px-6 py-6 hidden md:block",children:[V.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[V.jsx("div",{children:V.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center",children:[b.title,V.jsx("span",{className:"ml-3 text-xs font-normal px-2 py-1 bg-indigo-50 text-indigo-600 rounded-full border border-indigo-100",children:""})]})}),V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsxs("span",{className:"text-xs font-bold text-slate-500",children:[M,"%"]}),V.jsx("div",{className:"w-32 lg:w-48 bg-slate-100 rounded-full h-2",children:V.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${M}%`}})})]})]}),V.jsxs("div",{className:"flex items-center space-x-6 mt-6",children:[V.jsx("button",{onClick:()=>lt("dashboard"),className:`pb-2 text-sm font-medium border-b-2 transition-colors ${Z==="dashboard"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:""}),V.jsxs("button",{onClick:()=>lt("ai-helper"),className:`pb-2 text-sm font-medium border-b-2 transition-colors flex items-center ${Z==="ai-helper"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[V.jsx(wm,{className:"w-4 h-4 mr-1.5"}),"AI "]})]})]}),V.jsxs("div",{className:"md:hidden flex border-b border-slate-200 bg-white sticky top-0 z-10",children:[V.jsx("button",{onClick:()=>lt("dashboard"),className:`flex-1 py-3 text-sm font-medium border-b-2 ${Z==="dashboard"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500"}`,children:""}),V.jsx("button",{onClick:()=>lt("ai-helper"),className:`flex-1 py-3 text-sm font-medium border-b-2 flex justify-center items-center ${Z==="ai-helper"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500"}`,children:"AI "})]}),V.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 scroll-smooth",children:[Z==="dashboard"&&V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 pb-20 md:pb-0",children:[V.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[V.jsx(eD,{project:b,onUpdateProject:dt}),V.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 text-white shadow-lg hidden md:flex items-center justify-between",children:[V.jsxs("div",{children:[V.jsx("h3",{className:"font-bold text-lg",children:" Pro "}),V.jsx("p",{className:"text-indigo-100 opacity-90 text-sm mt-1",children:" 5 "})]}),V.jsx("button",{onClick:()=>G(!0),className:"bg-white text-indigo-600 px-4 py-2 rounded-lg text-sm font-bold shadow-md hover:bg-indigo-50 transition-colors",children:""})]})]}),V.jsx("div",{className:"lg:col-span-1 min-h-[500px]",children:V.jsx(tD,{projectId:b.id,tasks:d,onAddTask:Ht,onToggleTask:Wt,onDeleteTask:Ot})})]}),Z==="ai-helper"&&V.jsx("div",{className:"max-w-3xl mx-auto py-2",children:V.jsx(WN,{project:b,tasks:d})})]})]}):V.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 p-4",children:V.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm text-center max-w-md w-full",children:[V.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mx-auto mb-4",children:V.jsx(Xc,{className:"w-8 h-8 text-indigo-500"})}),V.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:""}),V.jsx("p",{className:"mb-6 text-sm",children:"Project Nexus "}),V.jsx("button",{onClick:yt,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl transition-colors",children:"+ "})]})})]})]})}K1.createRoot(document.getElementById("root")).render(V.jsx(qt.StrictMode,{children:V.jsx(nD,{})}));
